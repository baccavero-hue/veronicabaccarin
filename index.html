<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Veronica Baccarin | Graphic Designer e Logo Designer</title>
<meta name="description" content="Portfolio di Veronica Baccarin, graphic designer e logo designer: branding, identità visiva, illustrazione 2D e design editoriale."/>
<meta name="robots" content="index,follow,max-image-preview:large"/>
<meta name="author" content="Veronica Baccarin"/>
<meta name="theme-color" content="#0d111a"/>
<link rel="canonical" href="./"/>
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"/>
<link rel="icon" type="image/png" sizes="48x48" href="favicon-48x48.png"/>
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"/>
<meta property="og:type" content="website"/>
<meta property="og:locale" content="it_IT"/>
<meta property="og:title" content="Veronica Baccarin | Graphic Designer e Logo Designer"/>
<meta property="og:description" content="Portfolio di Veronica Baccarin: branding, logo design, identità visiva e illustrazione 2D."/>
<meta property="og:image" content="favicon-512x512.png"/>
<meta property="og:url" content="./"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="Veronica Baccarin | Graphic Designer e Logo Designer"/>
<meta name="twitter:description" content="Portfolio di Veronica Baccarin: branding, logo design, identità visiva e illustrazione 2D."/>
<meta name="twitter:image" content="favicon-512x512.png"/>
<link id="googleFonts" href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=IBM+Plex+Mono:wght@300;400;500&family=Bebas+Neue&family=Space+Grotesk:wght@300;400;700&family=DM+Sans:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet"/>
<style>
/* -- ROOT -- */
:root{
  --bg:#0d111a; --surface:#151b27; --surface2:#1c2330;
  --border:#273147; --border2:#34405b;
  --accent:#5b7cfa; --accent-hover:#7b96ff;
  --cyan:#5dd3ff;
  --text:#eef2ff; --muted:#7c89a6; --muted2:#3e485b;
  --danger:#ff4040; --success:#40c860;
  --font-display:'Syne',sans-serif;
  --font-body:'Space Grotesk',sans-serif;
  --font-ui:'DM Sans',sans-serif;
  --grid-size:72px;
  --scanline-opacity:0.015;
  --glitch:1;
  --grid-show:1;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{background:
  radial-gradient(1200px 600px at 110% -20%,rgba(91,124,250,.07),transparent 58%),
  radial-gradient(900px 500px at -10% 110%,rgba(93,211,255,.05),transparent 64%),
  var(--bg);
  color:var(--text);font-family:var(--font-body);font-size:15px;line-height:1.6;overflow-x:hidden;cursor:auto;-webkit-text-size-adjust:100%;}
body::after{content:'';position:fixed;inset:-12% -10%;z-index:0;pointer-events:none;
  background:
    radial-gradient(38% 34% at 18% 22%,rgba(93,211,255,.10),transparent 68%),
    radial-gradient(34% 30% at 82% 18%,rgba(91,124,250,.12),transparent 70%),
    radial-gradient(40% 34% at 52% 88%,rgba(124,137,166,.10),transparent 72%);
  filter:blur(12px);
  animation:auroraDrift 18s ease-in-out infinite alternate;
  opacity:.72;}
@keyframes auroraDrift{
  0%{transform:translate3d(0,0,0) scale(1);}
  50%{transform:translate3d(0,-1.5%,0) scale(1.03);}
  100%{transform:translate3d(-1.2%,1.2%,0) scale(1.01);}
}
body.mode-dark{}
body.mode-light{
  --bg:#f5f7fc; --surface:#ffffff; --surface2:#eef2f8;
  --border:#d3dbea; --border2:#c4cedf;
  --accent:#4868e8; --accent-hover:#5f7ef6;
  --text:#1d2738; --muted:#5f6d84; --muted2:#7a8aa5;
  --scanline-opacity:0.006;
  background:
    radial-gradient(1200px 620px at 110% -20%,rgba(72,104,232,.10),transparent 58%),
    radial-gradient(980px 520px at -10% 110%,rgba(93,211,255,.08),transparent 64%),
    var(--bg);
}
body.mode-light::after{opacity:.45;filter:blur(16px);}
body.mode-light nav{background:rgba(255,255,255,.82);box-shadow:0 8px 22px rgba(31,44,73,.10);}
body.mode-light .quick-style-dock{background:rgba(255,255,255,.88);box-shadow:0 8px 22px rgba(31,44,73,.12);}
body.mode-light .quick-style-btn{background:rgba(255,255,255,.94);border-color:#c6d1e4;color:#253149;}
body.mode-light .quick-style-btn:hover{background:rgba(236,241,250,.96);}
body.mode-light .marquee-band,
body.mode-light .about-grid,
body.mode-light .signature-shell,
body.mode-light .manifesto-wrap,
body.mode-light .case-study-wrap,
body.mode-light .port-intro,
body.mode-light .filter-strip,
body.mode-light .proj-card,
body.mode-light .site-footer{background:rgba(255,255,255,.78);}
body.mode-light .contact-layout{background:rgba(255,255,255,.9);box-shadow:0 18px 38px rgba(31,44,73,.08);}
body.mode-light .contact-left{background:linear-gradient(180deg,rgba(72,104,232,.07),rgba(93,211,255,.04));}
body.mode-light .contact-right{background:rgba(255,255,255,.92);}
body.mode-light .contact-row,
body.mode-light .spec-item,
body.mode-light .stat-block,
body.mode-light .signature-card,
body.mode-light .manifesto-item,
body.mode-light .manifesto-quote,
body.mode-light .case-side-card{background:rgba(255,255,255,.86);}
body.mode-light .contact-row{border-color:rgba(72,104,232,.14);}
body.mode-light .contact-row:hover{background:rgba(72,104,232,.10);border-color:rgba(72,104,232,.32);}
body.mode-light .hero-right{background:linear-gradient(180deg,rgba(93,211,255,.10),rgba(72,104,232,.06));}
body.mode-light .hero-desc,
body.mode-light .about-bio-text,
body.mode-light .contact-sub,
body.mode-light .port-intro,
body.mode-light .proj-desc,
body.mode-light .signature-note,
body.mode-light .signature-card p,
body.mode-light .manifesto-lead,
body.mode-light .manifesto-item p,
body.mode-light .case-meta,
body.mode-light .case-side-card p{color:#5f6d84;}
body.mode-light .contact-row-label,
body.mode-light .foot-copy,
body.mode-light .foot-made{color:#6f7d95;}
body.mode-light .contact-row-val{color:#253149;}
body.mode-light .contact-row-arrow{opacity:.62;}
body.mode-light .cf-field input,
body.mode-light .cf-field textarea{background:#fff;border-color:#c6d1e4;color:#1d2738;}
body.mode-light .cf-field input::placeholder,
body.mode-light .cf-field textarea::placeholder{color:#7a8aa5;}
body.mode-light .cf-submit{color:#f7f9ff;}
body.mode-light .filter-btn:hover{background:rgba(72,104,232,.08);border-color:rgba(72,104,232,.2);}
body.mode-light .proj-thumb-main{background:rgba(255,255,255,.92);}
body.mode-light .proj-thumb-second{background:rgba(255,255,255,.96);}
body.mode-light .proj-overlay{background:linear-gradient(to top,rgba(245,247,252,.92) 0%,rgba(245,247,252,.38) 62%,transparent 100%);}
body.mode-light .proj-overlay-arrow,
body.mode-light .proj-thumb-more{background:rgba(255,255,255,.94);}
body.mode-light .privacy-banner,
body.mode-light .cookie-banner,
body.mode-light .proj-lightbox-meta{background:rgba(255,255,255,.96);box-shadow:0 14px 34px rgba(31,44,73,.15);}
body.mode-light .legal-modal{background:rgba(231,238,248,.84);}
body.mode-light .legal-card{background:#fff;}
body.mode-light .legal-close{background:#eff3fa;}
body.mode-light .pb-btn{background:#fff;border-color:#c6d1e4;color:#2c3a52;}
body.mode-light .pb-btn.primary{background:rgba(72,104,232,.08);}
body.mode-light .proj-lightbox-nav,
body.mode-light .proj-lightbox-close{background:rgba(255,255,255,.96);}
body.mode-light .proj-lightbox-img{background:#fff;}
body.mode-light .case-label{background:rgba(255,255,255,.92);color:#253149;border-color:#c6d1e4;}
body.mode-light .case-divider{background:rgba(37,49,73,.56);box-shadow:none;}
body.mode-light .case-slider{background:rgba(37,49,73,.28);}
body.mode-light .quick-style-key{color:#6d7e99;}
body.mode-light .legal-content,
body.mode-light .privacy-text,
body.mode-light .cookie-text{color:#4e5c74;}
body.look-clean{}
body.look-glass nav,
body.look-glass .about-grid,
body.look-glass .signature-shell,
body.look-glass .manifesto-wrap,
body.look-glass .case-study-wrap,
body.look-glass .contact-layout,
body.look-glass .port-intro,
body.look-glass .filter-strip,
body.look-glass .site-footer{
  backdrop-filter:blur(14px);
  background:rgba(21,27,39,.62);
}
body.look-glass .proj-card,
body.look-glass .contact-row,
body.look-glass .spec-item,
body.look-glass .signature-card,
body.look-glass .manifesto-item,
body.look-glass .manifesto-quote,
body.look-glass .case-side-card{
  background:rgba(21,27,39,.58);
}
body.mode-light.look-glass nav,
body.mode-light.look-glass .about-grid,
body.mode-light.look-glass .signature-shell,
body.mode-light.look-glass .manifesto-wrap,
body.mode-light.look-glass .case-study-wrap,
body.mode-light.look-glass .contact-layout,
body.mode-light.look-glass .port-intro,
body.mode-light.look-glass .filter-strip,
body.mode-light.look-glass .site-footer{
  background:rgba(255,255,255,.7);
}
body.mode-light.look-glass .proj-card,
body.mode-light.look-glass .contact-row,
body.mode-light.look-glass .spec-item,
body.mode-light.look-glass .signature-card,
body.mode-light.look-glass .manifesto-item,
body.mode-light.look-glass .manifesto-quote,
body.mode-light.look-glass .case-side-card{
  background:rgba(255,255,255,.8);
}
body.look-editorial{
  --font-display:'Playfair Display',serif;
  --font-ui:'DM Sans',sans-serif;
}
body.look-editorial .hero-meta,
body.look-editorial .section-tag{letter-spacing:.1em;}
body.look-editorial .hero-name,
body.look-editorial .section-num,
body.look-editorial .contact-headline{letter-spacing:0;}
body.look-luxury{
  --font-display:'Playfair Display',serif;
  --font-body:'DM Sans',sans-serif;
  --font-ui:'DM Sans',sans-serif;
  --lux-metal:#d8bc8c;
  --scanline-opacity:0.004;
  --grid-size:96px;
}
body.look-luxury::after{
  background:
    radial-gradient(38% 34% at 18% 22%,rgba(216,188,140,.12),transparent 68%),
    radial-gradient(34% 30% at 82% 18%,rgba(192,158,111,.10),transparent 70%),
    radial-gradient(40% 34% at 52% 88%,rgba(121,97,68,.10),transparent 72%);
}
body.look-luxury .grid-bg{opacity:calc(var(--grid-show) * 0.05);}
body.look-luxury nav,
body.look-luxury .quick-style-dock{
  background:rgba(18,16,20,.8);
  border-color:rgba(216,188,140,.28);
  box-shadow:0 12px 30px rgba(0,0,0,.26);
}
body.look-luxury .marquee-band,
body.look-luxury .about-grid,
body.look-luxury .signature-shell,
body.look-luxury .manifesto-wrap,
body.look-luxury .case-study-wrap,
body.look-luxury .port-intro,
body.look-luxury .filter-strip,
body.look-luxury .contact-layout,
body.look-luxury .site-footer{
  border-color:rgba(216,188,140,.24);
  box-shadow:0 18px 34px rgba(0,0,0,.2);
}
body.look-luxury .proj-card,
body.look-luxury .contact-row,
body.look-luxury .spec-item,
body.look-luxury .stat-block,
body.look-luxury .signature-card,
body.look-luxury .manifesto-item,
body.look-luxury .manifesto-quote,
body.look-luxury .case-side-card{
  border-color:rgba(216,188,140,.2);
}
body.look-luxury .hero-name,
body.look-luxury .section-num,
body.look-luxury .contact-headline,
body.look-luxury .signature-title,
body.look-luxury .manifesto-quote h3{
  letter-spacing:0;
  font-weight:600;
}
body.look-luxury .hero-meta,
body.look-luxury .section-tag,
body.look-luxury .about-label,
body.look-luxury .signature-kicker,
body.look-luxury .signature-step,
body.look-luxury .manifesto-label,
body.look-luxury .case-kicker,
body.look-luxury .case-side-card strong,
body.look-luxury .privacy-title{
  color:var(--lux-metal);
}
body.look-luxury .section-tag::before,
body.look-luxury .status-dot{background:var(--lux-metal);}
body.look-luxury .signature-shell::before{
  border-color:rgba(216,188,140,.28);
  box-shadow:0 0 0 28px rgba(216,188,140,.08),0 0 0 56px rgba(216,188,140,.04);
}
body.look-luxury .manifesto-wrap::after{
  background:radial-gradient(circle at center,rgba(216,188,140,.16),transparent 64%);
}
body.look-luxury .signature-card::before{
  background:linear-gradient(90deg,var(--lux-metal),transparent);
}
body.look-luxury .quick-style-btn:hover,
body.look-luxury .nav-links a:hover,
body.look-luxury .nav-links a.active,
body.look-luxury .filter-btn.active{
  color:var(--lux-metal);
  border-color:rgba(216,188,140,.44);
}
body.look-luxury .filter-btn.active,
body.look-luxury .foot-link{
  background:rgba(216,188,140,.12);
}
body.mode-light.look-luxury{
  --bg:#f8f4ec;
  --surface:#fdf9f2;
  --surface2:#f2eadf;
  --border:#d8cebf;
  --border2:#c9bba8;
  --text:#2f2a23;
  --muted:#6d6255;
  --muted2:#918576;
  --accent:#8a6a3d;
  --accent-hover:#a17a45;
  --lux-metal:#8a6a3d;
  --scanline-opacity:0;
  background:
    radial-gradient(1200px 620px at 110% -20%,rgba(138,106,61,.11),transparent 58%),
    radial-gradient(980px 520px at -10% 110%,rgba(201,172,128,.09),transparent 64%),
    var(--bg);
}
body.mode-light.look-luxury::after{
  opacity:.34;
  filter:blur(14px);
}
body.mode-light.look-luxury nav,
body.mode-light.look-luxury .quick-style-dock{
  background:rgba(253,249,242,.9);
  box-shadow:0 10px 24px rgba(53,37,19,.12);
}
body.mode-light.look-luxury .marquee-band,
body.mode-light.look-luxury .about-grid,
body.mode-light.look-luxury .signature-shell,
body.mode-light.look-luxury .manifesto-wrap,
body.mode-light.look-luxury .case-study-wrap,
body.mode-light.look-luxury .port-intro,
body.mode-light.look-luxury .filter-strip,
body.mode-light.look-luxury .proj-card,
body.mode-light.look-luxury .contact-layout,
body.mode-light.look-luxury .site-footer{
  background:rgba(253,249,242,.86);
}
body.mode-light.look-luxury .contact-row,
body.mode-light.look-luxury .spec-item,
body.mode-light.look-luxury .stat-block,
body.mode-light.look-luxury .signature-card,
body.mode-light.look-luxury .manifesto-item,
body.mode-light.look-luxury .manifesto-quote,
body.mode-light.look-luxury .case-side-card{
  background:rgba(255,252,247,.92);
}
body.mode-light.look-luxury .hero-right{
  background:linear-gradient(180deg,rgba(138,106,61,.09),rgba(138,106,61,.02));
}
body.mode-light.look-luxury .case-label{
  background:rgba(255,252,247,.9);
  border-color:rgba(138,106,61,.3);
  color:#5d492f;
}

/* scanlines */
body::before{content:'';position:fixed;inset:0;z-index:9001;pointer-events:none;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,var(--scanline-opacity)) 2px,rgba(0,0,0,var(--scanline-opacity)) 4px);
  animation:scanMove 8s linear infinite;}
@keyframes scanMove{0%{background-position:0 0}100%{background-position:0 100vh}}

/* grid bg */
.grid-bg{position:fixed;inset:0;z-index:0;pointer-events:none;
  background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);
  background-size:var(--grid-size) var(--grid-size);
  mask-image:radial-gradient(ellipse 80% 80% at 50% 50%,black 40%,transparent 100%);
  opacity:calc(var(--grid-show) * 0.08);}

/* cursor */
.cursor{display:none;position:fixed;width:8px;height:8px;background:var(--accent);pointer-events:none;z-index:9999;transform:translate(-50%,-50%);transition:width .25s,height .25s,background .25s;}
.cursor-ring{display:none;position:fixed;width:32px;height:32px;border:1px solid var(--accent);pointer-events:none;z-index:9998;transform:translate(-50%,-50%);transition:width .3s,height .3s;opacity:.5;}

/* -- NAV -- */
nav{position:fixed;top:12px;left:50%;transform:translateX(-50%);z-index:500;display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:66px;width:min(1220px,calc(100% - 24px));background:rgba(13,17,26,.74);backdrop-filter:blur(10px);border:1px solid var(--border);border-radius:22px;box-shadow:0 8px 22px rgba(2,8,12,.2);animation:navDrop .7s cubic-bezier(.2,.8,.2,1);}
.nav-logo{font-family:var(--font-ui);font-size:14px;font-weight:700;letter-spacing:.02em;text-transform:none;color:var(--text);text-decoration:none;cursor:pointer;display:flex;align-items:center;gap:10px;}
.nav-logo-icon{width:18px;height:18px;object-fit:contain;display:block;}
.nav-mobile-toggle{display:none;align-items:center;gap:10px;background:var(--surface);border:1px solid var(--border2);color:var(--text);padding:8px 12px;font-family:var(--font-body);font-size:10px;letter-spacing:.14em;text-transform:uppercase;cursor:pointer;border-radius:999px;}
.nav-mobile-caret{color:var(--accent);font-size:12px;line-height:1;}
.nav-links{display:flex;gap:8px;list-style:none;}
.nav-links a{font-family:var(--font-body);font-size:11px;font-weight:500;letter-spacing:.03em;text-transform:none;color:var(--muted);text-decoration:none;cursor:pointer;padding:8px 14px;border:1px solid transparent;transition:color .25s,border-color .25s,background .25s;border-radius:999px;}
.nav-links a:hover,.nav-links a.active{color:var(--accent);border-color:var(--accent);background:rgba(91,124,250,.12);}
.nav-status{display:flex;align-items:center;gap:8px;font-size:10px;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);}
.status-dot{width:6px;height:6px;border-radius:50%;background:var(--accent);animation:blink 2s ease-in-out infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
@keyframes navDrop{from{opacity:0;transform:translate(-50%,-10px)}to{opacity:1;transform:translate(-50%,0)}}

.quick-style-dock{
  position:fixed;top:88px;left:20px;z-index:640;display:flex;align-items:center;gap:8px;
  padding:8px;background:rgba(13,17,26,.76);border:1px solid var(--border);border-radius:999px;
  backdrop-filter:blur(10px);box-shadow:0 10px 26px rgba(2,8,12,.26);animation:dockIn .65s cubic-bezier(.2,.8,.2,1);
  flex-wrap:wrap;max-width:calc(100vw - 34px);
}
.quick-style-btn{
  border:1px solid var(--border2);background:rgba(21,27,39,.82);color:var(--text);
  padding:8px 12px;min-height:34px;border-radius:999px;display:inline-flex;align-items:center;gap:8px;
  font-family:var(--font-body);font-size:10px;letter-spacing:.05em;cursor:pointer;transition:border-color .25s,background .25s,color .25s;
}
.quick-style-btn:hover{border-color:var(--accent);color:var(--accent);background:rgba(21,27,39,.95);}
.quick-style-key{font-size:9px;color:var(--muted);letter-spacing:.12em;text-transform:uppercase;}
.quick-style-val{font-weight:600;}
@keyframes dockIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}

/* admin trigger */
#adminTrigger{position:fixed;bottom:24px;right:24px;z-index:600;width:44px;height:44px;background:var(--surface);border:1px solid var(--border2);display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:.35;transition:opacity .3s,border-color .3s,transform .25s;border-radius:50%;}
#adminTrigger:hover{opacity:1;border-color:var(--accent);}
#adminTrigger svg{width:15px;height:15px;fill:var(--muted);}

/* -- PAGES -- */
.page{min-height:100vh;display:none;opacity:0;position:relative;z-index:1;}
.page.active{display:block;opacity:1;}
.page.fade-in{animation:pgIn .55s ease forwards;}
#home,.page{min-height:100dvh;}
@keyframes pgIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
.reveal-item{opacity:0;transform:translateY(18px) scale(.99);filter:blur(2px);transition:opacity .7s cubic-bezier(.2,.8,.2,1),transform .7s cubic-bezier(.2,.8,.2,1),filter .7s cubic-bezier(.2,.8,.2,1);}
.reveal-item.is-visible{opacity:1;transform:none;filter:none;}

/* -- MARQUEE -- */
.marquee-band{width:min(1240px,calc(100% - 40px));margin:10px auto 0;overflow:hidden;border:1px solid var(--border);background:rgba(9,25,35,.58);padding:10px 0;border-radius:999px;}
.marquee-track{display:flex;white-space:nowrap;animation:mRun 25s linear infinite;}
.marquee-track span{font-family:var(--font-body);font-size:11px;letter-spacing:.25em;text-transform:uppercase;color:var(--muted);padding:0 36px;}
.marquee-track span.hl{color:var(--accent);}
@keyframes mRun{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* -- HOME -- */
#home{display:flex;flex-direction:column;min-height:100vh;padding-top:84px;}
.home-hero{flex:1;display:grid;grid-template-columns:1fr 380px;align-items:center;gap:28px;padding:76px 52px 56px;position:relative;}
.home-hero::after{display:none;}
.hero-meta{font-family:var(--font-body);font-size:10px;letter-spacing:.16em;text-transform:uppercase;color:var(--accent);margin-bottom:24px;display:flex;align-items:center;gap:12px;}
.hero-meta::before{content:'//';opacity:.5;}
.hero-logo{width:84px;height:auto;margin-bottom:8px;display:block}
.hero-logo svg{width:100%;height:auto;display:block}
.hero-name{font-family:var(--font-display);font-size:clamp(78px,10vw,148px);line-height:.92;letter-spacing:-.01em;color:var(--text);margin-bottom:0;position:relative;}
.hero-name .glitch{position:relative;display:inline-block;color:var(--accent);}
.hero-name .glitch::before,.hero-name .glitch::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%;font-family:inherit;font-size:inherit;line-height:inherit;}
 .hero-name .glitch::before{color:var(--accent);clip-path:polygon(0 0,100% 0,100% 35%,0 35%);transform:translate(-3px,0);animation:glitch1 4s infinite;}
 .hero-name .glitch::after{color:var(--accent);clip-path:polygon(0 65%,100% 65%,100% 100%,0 100%);transform:translate(3px,0);animation:glitch2 4s infinite;}
body.no-glitch .glitch::before,body.no-glitch .glitch::after{display:none;}
@keyframes glitch1{0%,90%,100%{transform:translate(-3px,0)}92%,96%{transform:translate(3px,0)}94%{transform:translate(-3px,2px)}}
@keyframes glitch2{0%,90%,100%{transform:translate(3px,0)}92%,96%{transform:translate(-3px,0)}94%{transform:translate(3px,-2px)}}
.hero-role{font-family:var(--font-body);font-size:12px;letter-spacing:.2em;text-transform:uppercase;color:var(--muted);margin-top:24px;margin-bottom:40px;display:flex;align-items:center;gap:14px;}
.hero-role::before{content:'';width:40px;height:1px;background:var(--border2);}
.hero-desc{font-family:var(--font-ui);font-size:18px;color:rgba(238,242,255,.8);line-height:1.68;max-width:540px;margin-bottom:44px;}
.hero-cta-row{display:flex;align-items:center;gap:20px;}
.cta-primary{display:inline-flex;align-items:center;gap:10px;background:var(--accent);color:#081017;font-family:var(--font-body);font-size:11px;font-weight:700;letter-spacing:.04em;text-transform:none;padding:14px 24px;text-decoration:none;cursor:pointer;transition:background .25s,gap .25s,transform .25s;border-radius:999px;box-shadow:0 6px 16px rgba(91,124,250,.22);}
.cta-primary{position:relative;overflow:hidden;isolation:isolate;}
.cta-primary::after{content:'';position:absolute;inset:0;background:linear-gradient(120deg,transparent 25%,rgba(255,255,255,.45) 50%,transparent 75%);transform:translateX(-130%);transition:transform .8s ease;pointer-events:none;}
.cta-primary:hover{background:var(--accent-hover);gap:14px;}
.cta-primary:hover::after{transform:translateX(130%);}
.cta-secondary{font-family:var(--font-body);font-size:11px;letter-spacing:.03em;text-transform:none;color:var(--text);text-decoration:none;cursor:pointer;border:1px solid var(--border2);padding:12px 18px;transition:color .25s,border-color .25s,background .25s;border-radius:999px;background:rgba(13,17,26,.48);}
.cta-secondary:hover{color:var(--accent);border-color:var(--accent);}
.hero-right{padding:28px 24px 30px 24px;display:flex;flex-direction:column;justify-content:center;background:linear-gradient(180deg,rgba(93,211,255,.05),rgba(91,124,250,.035));border:1px solid var(--border);border-radius:24px;animation:floatDeck 8s ease-in-out infinite;}
@keyframes floatDeck{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.hero-right-logo-wrap{padding:4px 0 22px;border-bottom:1px solid var(--border);margin-bottom:8px;display:flex;justify-content:center;}
.hero-right-logo{width:clamp(180px,22vw,300px);height:auto;display:block;object-fit:contain;}
.stat-block{padding:16px 16px;border:1px solid var(--border);border-radius:14px;display:flex;flex-direction:column;gap:6px;background:rgba(9,25,35,.65);}
.stat-block + .stat-block{margin-top:10px;}
.stat-num{font-family:var(--font-display);font-size:58px;line-height:1;color:var(--accent);letter-spacing:0;}
.stat-label{font-family:var(--font-body);font-size:10px;letter-spacing:.25em;text-transform:uppercase;color:var(--muted);}
.stat-bar{height:2px;background:var(--border);margin-top:10px;overflow:hidden;}
.stat-bar-fill{height:100%;background:var(--accent);width:0;transition:width 1.5s ease;}

.home-signature,.home-manifesto{max-width:1240px;width:calc(100% - 40px);margin:18px auto 0;}
.signature-shell{position:relative;overflow:hidden;border:1px solid var(--border);border-radius:28px;padding:36px;background:linear-gradient(135deg,rgba(93,211,255,.06),rgba(91,124,250,.04) 50%,rgba(201,122,74,.04) 100%),rgba(9,25,35,.58);}
.signature-shell::before{content:'';position:absolute;width:300px;height:300px;top:-136px;right:-124px;border-radius:50%;border:1px solid rgba(91,124,250,.24);box-shadow:0 0 0 28px rgba(91,124,250,.08),0 0 0 56px rgba(93,211,255,.04);pointer-events:none;animation:orbitPulse 10.5s ease-in-out infinite;}
@keyframes orbitPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
.signature-head{display:grid;grid-template-columns:minmax(0,1fr) minmax(260px,320px);gap:22px;align-items:end;margin-bottom:24px;position:relative;z-index:1;}
.signature-kicker{font-family:var(--font-body);font-size:10px;letter-spacing:.24em;text-transform:uppercase;color:var(--accent);margin-bottom:10px;}
.signature-title{font-family:var(--font-display);font-size:clamp(34px,4.2vw,60px);line-height:.96;color:var(--text);letter-spacing:-.01em;}
.signature-note{font-family:var(--font-ui);font-size:15px;line-height:1.7;color:rgba(231,243,247,.72);}
.signature-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;position:relative;z-index:1;}
.signature-card{border:1px solid var(--border);border-radius:20px;padding:20px 18px;background:var(--surface);position:relative;overflow:hidden;transition:transform .3s,border-color .3s,box-shadow .3s;}
.signature-card::before{content:'';position:absolute;left:18px;right:18px;top:0;height:2px;background:linear-gradient(90deg,var(--accent),transparent);}
.signature-card:nth-child(2){transform:translateY(10px);}
.signature-card:nth-child(3){transform:translateY(20px);}
.signature-card:hover{border-color:rgba(91,124,250,.45);box-shadow:0 14px 24px rgba(2,8,12,.22);transform:translateY(-4px);}
.signature-card:nth-child(2):hover{transform:translateY(6px);}
.signature-card:nth-child(3):hover{transform:translateY(14px);}
.signature-step{font-family:var(--font-body);font-size:9px;letter-spacing:.26em;text-transform:uppercase;color:var(--accent);margin-bottom:10px;}
.signature-card h3{font-family:var(--font-ui);font-size:18px;color:var(--text);margin-bottom:8px;line-height:1.2;}
.signature-card p{font-family:var(--font-ui);font-size:14px;line-height:1.6;color:var(--muted);}
.signature-points{list-style:none;display:flex;flex-wrap:wrap;gap:6px;margin-top:12px;}
.signature-points li{font-family:var(--font-body);font-size:9px;letter-spacing:.06em;color:var(--muted);padding:6px 10px;border:1px solid var(--border2);border-radius:999px;background:rgba(91,124,250,.08);}

.manifesto-wrap{position:relative;overflow:hidden;border:1px solid var(--border);border-radius:28px;padding:34px;background:linear-gradient(180deg,rgba(93,211,255,.03),rgba(91,124,250,.01)),rgba(9,25,35,.6);}
.manifesto-wrap::after{content:'';position:absolute;left:-30%;right:-30%;top:-120px;height:240px;background:radial-gradient(circle at center,rgba(91,124,250,.16),transparent 64%);pointer-events:none;}
.manifesto-grid{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr);gap:14px;position:relative;z-index:1;}
.manifesto-quote{padding:30px 28px;border:1px solid var(--border2);border-radius:22px;background:linear-gradient(140deg,rgba(91,124,250,.08),rgba(13,17,26,.18));}
.manifesto-label{font-family:var(--font-body);font-size:9px;letter-spacing:.26em;text-transform:uppercase;color:var(--accent);margin-bottom:12px;}
.manifesto-quote h3{font-family:var(--font-display);font-size:clamp(30px,3.8vw,52px);line-height:.96;color:var(--text);margin-bottom:12px;}
.manifesto-lead{font-family:var(--font-ui);font-size:16px;line-height:1.75;color:rgba(231,243,247,.74);}
.manifesto-pillars{display:grid;gap:10px;}
.manifesto-item{padding:16px 18px;border:1px solid var(--border);border-radius:14px;background:var(--surface);transition:border-color .3s,transform .3s,box-shadow .3s;}
.manifesto-item:hover{border-color:rgba(91,124,250,.4);transform:translateX(4px);box-shadow:0 10px 18px rgba(2,8,12,.2);}
.manifesto-item strong{display:block;font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin-bottom:8px;}
.manifesto-item p{font-family:var(--font-ui);font-size:14px;line-height:1.58;color:var(--muted);}

.home-case-study{max-width:1240px;width:calc(100% - 40px);margin:18px auto 0;}
.case-study-wrap{position:relative;overflow:hidden;border:1px solid var(--border);border-radius:28px;padding:30px;display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,.9fr);gap:16px;background:linear-gradient(180deg,rgba(93,211,255,.03),rgba(91,124,250,.01)),rgba(9,25,35,.58);}
.case-study-wrap::before{content:'';position:absolute;left:30px;right:30px;top:0;height:2px;background:linear-gradient(90deg,var(--accent),transparent);}
.case-main{display:flex;flex-direction:column;gap:12px;min-width:0;}
.case-kicker{font-family:var(--font-body);font-size:10px;letter-spacing:.24em;text-transform:uppercase;color:var(--accent);}
.case-title{font-family:var(--font-display);font-size:clamp(30px,3.8vw,52px);line-height:.96;color:var(--text);letter-spacing:-.01em;}
.case-meta{font-family:var(--font-ui);font-size:15px;line-height:1.68;color:rgba(231,243,247,.72);}
.case-stage{position:relative;--split:52%;aspect-ratio:4/3;border:1px solid var(--border2);border-radius:18px;overflow:hidden;background:linear-gradient(180deg,var(--surface),var(--surface2));}
.case-img{width:100%;height:100%;display:block;object-fit:contain;object-position:center;}
.case-img-after{position:absolute;inset:0;clip-path:inset(0 calc(100% - var(--split)) 0 0);}
.case-divider{position:absolute;top:0;bottom:0;left:var(--split);width:2px;background:rgba(255,255,255,.7);transform:translateX(-1px);box-shadow:0 0 0 1px rgba(0,0,0,.18);}
.case-label{position:absolute;top:12px;font-family:var(--font-body);font-size:8px;letter-spacing:.22em;text-transform:uppercase;padding:6px 8px;border-radius:999px;border:1px solid var(--border2);z-index:3;background:rgba(6,7,10,.64);color:var(--text);}
.case-label.before{left:12px;}
.case-label.after{right:12px;}
.case-slider{position:absolute;left:14px;right:14px;bottom:14px;width:calc(100% - 28px);z-index:4;-webkit-appearance:none;appearance:none;height:4px;background:rgba(255,255,255,.38);border-radius:999px;outline:none;cursor:ew-resize;}
.case-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;border:2px solid #fff;background:var(--accent);box-shadow:0 0 0 2px rgba(0,0,0,.24);}
.case-slider::-moz-range-thumb{width:18px;height:18px;border-radius:50%;border:2px solid #fff;background:var(--accent);box-shadow:0 0 0 2px rgba(0,0,0,.24);}
.case-side{display:flex;flex-direction:column;gap:10px;}
.case-side-card{border:1px solid var(--border);border-radius:14px;padding:14px;background:var(--surface);}
.case-side-card strong{display:block;font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin-bottom:8px;}
.case-side-card p{font-family:var(--font-ui);font-size:14px;line-height:1.58;color:var(--muted);}
.case-list{list-style:none;display:flex;flex-direction:column;gap:6px;}
.case-list li{font-family:var(--font-body);font-size:10px;letter-spacing:.06em;color:var(--muted);padding:6px 8px;border:1px solid var(--border2);border-radius:10px;background:rgba(91,124,250,.08);}

/* -- ABOUT -- */
#about{padding:86px 0 80px;}
.section-intro{padding:60px 52px 0;max-width:1240px;margin:0 auto;}
.section-tag{display:inline-flex;align-items:center;gap:10px;font-family:var(--font-body);font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--cyan);margin-bottom:20px;}
.section-tag::before{content:'';width:20px;height:1px;background:var(--cyan);}
.section-num{font-family:var(--font-display);font-size:clamp(62px,8vw,112px);line-height:.92;color:var(--text);margin-bottom:40px;display:flex;align-items:baseline;gap:16px;}
.section-num span{font-size:.35em;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);font-family:var(--font-body);}
.about-grid{display:grid;grid-template-columns:380px 1fr;gap:0;border:1px solid var(--border);background:rgba(9,25,35,.62);border-radius:24px;overflow:hidden;max-width:1240px;width:calc(100% - 40px);margin:0 auto;}
.about-img-col{border-right:1px solid var(--border);position:relative;overflow:hidden;}
.about-img-frame{position:relative;width:100%;aspect-ratio:3/4;overflow:hidden;background:var(--surface);}
.about-img-frame::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(91,124,250,.12) 0%,transparent 60%);pointer-events:none;}
.about-img-frame img,.about-img-frame svg{width:100%;height:100%;object-fit:cover;display:block;}
.img-corner{position:absolute;width:18px;height:18px;border-color:var(--accent);border-style:solid;opacity:.6;}
.img-corner.tl{top:12px;left:12px;border-width:1.5px 0 0 1.5px;}
.img-corner.br{bottom:12px;right:12px;border-width:0 1.5px 1.5px 0;}
.about-content-col{padding:52px;background:linear-gradient(180deg,rgba(93,211,255,.022),rgba(91,124,250,.02));}
.about-label{font-family:var(--font-body);font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--accent);margin-bottom:24px;}
.about-bio-text{font-family:var(--font-ui);font-size:17px;color:rgba(231,243,247,.74);line-height:1.8;margin-bottom:48px;}
.about-bio-text em{color:var(--accent);font-style:normal;}
.skills-grid{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:48px;}
.skill-chip{font-family:var(--font-body);font-size:10px;letter-spacing:.04em;text-transform:none;padding:7px 14px;border:1px solid var(--border2);color:var(--muted);transition:border-color .25s,color .25s,background .25s;border-radius:999px;}
.skill-chip:hover{border-color:var(--accent);color:var(--accent);background:rgba(91,124,250,.12);}
.about-specs{display:grid;grid-template-columns:1fr 1fr;gap:10px;background:transparent;}
.spec-item{background:var(--surface);padding:18px 20px;display:flex;flex-direction:column;gap:4px;border:1px solid var(--border);border-radius:14px;}
.spec-key{font-family:var(--font-body);font-size:9px;letter-spacing:.25em;text-transform:uppercase;color:var(--muted);}
.spec-val{font-family:var(--font-ui);font-size:14px;font-weight:700;color:var(--text);}

/* -- PORTFOLIO -- */
#portfolio{padding:86px 0 80px;}
.filter-strip{display:flex;overflow-x:auto;border:1px solid var(--border);-webkit-overflow-scrolling:touch;scrollbar-width:none;max-width:1240px;width:calc(100% - 40px);margin:0 auto;padding:8px;gap:8px;border-radius:999px;background:rgba(9,25,35,.55);}
.filter-strip::-webkit-scrollbar{display:none;}
.filter-btn{font-family:var(--font-body);font-size:10px;letter-spacing:.08em;text-transform:none;padding:10px 16px;background:none;border:1px solid transparent;color:var(--muted);cursor:pointer;transition:color .25s,background .25s,border-color .25s;white-space:nowrap;border-radius:999px;}
.filter-btn:hover{color:var(--text);background:rgba(255,255,255,.03);border-color:var(--border2);}
.filter-btn.active{color:var(--accent);background:rgba(91,124,250,.14);}
.port-intro{padding:26px 30px;font-family:var(--font-ui);font-size:16px;color:rgba(231,243,247,.72);max-width:1240px;width:calc(100% - 40px);margin:16px auto 0;border:1px solid var(--border);border-radius:20px;background:rgba(9,25,35,.55);}
.portfolio-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;background:transparent;max-width:1240px;width:calc(100% - 40px);margin:16px auto 0;}
.proj-card{position:relative;overflow:hidden;cursor:pointer;background:rgba(9,25,35,.66);transition:transform .35s,box-shadow .35s;border:1px solid var(--border);border-radius:18px;box-shadow:0 4px 12px rgba(2,8,12,.14);--rx:0deg;--ry:0deg;transform:perspective(900px) rotateX(var(--rx)) rotateY(var(--ry));}
.proj-card.wide,.proj-card.tall{grid-column:span 1;grid-row:span 1;}
.proj-card.is-hidden{display:none !important;}
.proj-thumb{aspect-ratio:4/3;overflow:hidden;position:relative;background:var(--bg);border-radius:16px 16px 0 0;}
.proj-card.wide .proj-thumb,.proj-card.tall .proj-thumb{aspect-ratio:4/3;}
.proj-thumb img,.proj-thumb svg{width:100%;height:100%;display:block;object-fit:contain;transition:transform .6s,filter .4s;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.12));}
.proj-thumb-collage{position:relative;width:100%;height:100%;padding:10px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(0,0,0,.18));}
.proj-thumb-collage::after{content:'';position:absolute;inset:10px;border:1px solid rgba(91,124,250,.28);pointer-events:none;border-radius:10px;}
.proj-thumb-main{width:100%;height:100%;object-fit:contain;display:block;border:1px solid rgba(255,255,255,.08);background:rgba(6,7,10,.5);border-radius:10px;}
.proj-thumb-second{position:absolute;right:16px;bottom:16px;width:36%;max-width:185px;aspect-ratio:4/3;object-fit:contain;border:2px solid var(--accent);box-shadow:0 10px 22px rgba(0,0,0,.28),0 0 0 1px rgba(91,124,250,.30) inset;transform:rotate(-2deg);background:rgba(6,7,10,.92);padding:4px;border-radius:10px;}
.collage-minimal .proj-thumb-collage{padding:6px;background:rgba(8,10,14,.5);}
.collage-minimal .proj-thumb-collage::after{inset:6px;border:1px solid rgba(255,255,255,.08);border-radius:8px;}
.collage-minimal .proj-thumb-main{border:1px solid rgba(255,255,255,.06);background:rgba(6,7,10,.34);}
.collage-minimal .proj-thumb-second{right:10px;bottom:10px;width:33%;border:1px solid rgba(255,255,255,.18);box-shadow:0 8px 18px rgba(0,0,0,.22);transform:rotate(-1deg);padding:2px;}
.collage-bold .proj-thumb-collage{padding:12px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.24));}
.collage-bold .proj-thumb-collage::after{inset:12px;border:1px solid rgba(91,124,250,.32);border-radius:10px;}
.collage-bold .proj-thumb-main{border:1px solid rgba(255,255,255,.1);}
.collage-bold .proj-thumb-second{right:18px;bottom:18px;width:38%;border:2px solid var(--accent);box-shadow:0 14px 26px rgba(0,0,0,.3),0 0 0 1px rgba(91,124,250,.36) inset;transform:rotate(-3deg);padding:4px;}
.proj-card:hover{transform:perspective(900px) rotateX(var(--rx)) rotateY(var(--ry)) translateY(-2px);box-shadow:0 10px 22px rgba(2,8,12,.22);}
.proj-card:hover .proj-thumb img,.proj-card:hover .proj-thumb svg{transform:none;filter:brightness(.82);}
.proj-overlay{position:absolute;inset:0;padding:22px;display:flex;flex-direction:column;justify-content:flex-end;background:linear-gradient(to top,rgba(6,7,10,.78) 0%,rgba(6,7,10,.12) 62%,transparent 100%);transform:translateY(12px);opacity:0;transition:transform .35s,opacity .35s;}
.proj-card:hover .proj-overlay{transform:translateY(0);opacity:1;}
.proj-overlay-cat{font-family:var(--font-body);font-size:9px;letter-spacing:.3em;text-transform:uppercase;color:var(--accent);margin-bottom:6px;}
.proj-overlay-name{font-family:var(--font-ui);font-size:16px;font-weight:700;color:var(--text);}
.proj-overlay-arrow{position:absolute;top:16px;right:16px;width:36px;height:36px;border:1px solid rgba(91,124,250,.48);display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:16px;opacity:0;transition:opacity .35s .05s;background:rgba(9,25,35,.55);padding:0;cursor:pointer;border-radius:50%;}
.proj-card:hover .proj-overlay-arrow{opacity:1;}
.proj-thumb-gallery{position:absolute;left:12px;right:12px;bottom:12px;display:flex;gap:6px;z-index:4;}
.proj-thumb-mini{width:34px;height:24px;border:1px solid var(--border2);background:var(--surface);padding:0;overflow:hidden;opacity:.78;transition:opacity .2s,border-color .2s;cursor:pointer;border-radius:8px;}
.proj-thumb-mini.active,.proj-thumb-mini:hover{opacity:1;border-color:var(--accent);}
.proj-thumb-mini img{width:100%;height:100%;object-fit:cover;display:block;}
.proj-thumb-more{height:24px;padding:0 8px;display:inline-flex;align-items:center;border:1px solid var(--border2);font-family:var(--font-body);font-size:8px;letter-spacing:.18em;text-transform:uppercase;color:var(--accent);background:rgba(6,7,10,.85);border-radius:8px;}
.proj-label{padding:16px 18px;border-top:1px solid var(--border);display:flex;align-items:flex-start;justify-content:space-between;gap:14px;}
.proj-label-main{flex:1;min-width:0;}
.proj-name{font-family:var(--font-ui);font-size:13px;font-weight:700;color:var(--text);margin-bottom:6px;}
.proj-desc{font-family:var(--font-ui);font-size:12px;line-height:1.5;color:var(--muted);display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;}
.proj-cat-tag{font-family:var(--font-body);font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);padding:4px 10px;border:1px solid rgba(91,124,250,.42);border-radius:999px;}
.proj-lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:22px;background:rgba(4,6,10,.92);z-index:1200;flex-direction:column;gap:14px;cursor:zoom-out;}
.proj-lightbox.open{display:flex;}
.proj-lightbox-stage{position:relative;display:flex;align-items:center;justify-content:center;max-width:min(96vw,1600px);width:100%;cursor:default;}
.proj-lightbox-img{display:block;max-width:min(96vw,1600px);max-height:72vh;width:auto;height:auto;object-fit:contain;border:1px solid var(--border2);background:#000;}
.proj-lightbox-nav{position:absolute;top:50%;transform:translateY(-50%);width:42px;height:42px;border:1px solid var(--accent);background:rgba(6,7,10,.85);color:var(--accent);font-size:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;}
.proj-lightbox-nav.prev{left:8px;}
.proj-lightbox-nav.next{right:8px;}
.proj-lightbox-close{position:absolute;top:16px;right:18px;width:40px;height:40px;border:1px solid var(--accent);background:rgba(6,7,10,.85);color:var(--accent);font-size:28px;line-height:1;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:30;}
.proj-lightbox-meta{width:min(96vw,1100px);border:1px solid var(--border2);background:rgba(6,7,10,.88);padding:16px 18px;}
.proj-lightbox-top{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:10px;}
.proj-lightbox-title{font-family:var(--font-ui);font-size:19px;font-weight:700;color:var(--text);}
.proj-lightbox-cat{font-family:var(--font-body);font-size:9px;letter-spacing:.24em;text-transform:uppercase;color:var(--accent);}
.proj-lightbox-count{font-family:var(--font-body);font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:var(--muted);padding:4px 8px;border:1px solid var(--border2);}
.proj-lightbox-desc{font-family:var(--font-ui);font-size:15px;line-height:1.65;color:var(--text);margin:0 0 12px;}
.proj-lightbox-thumbs{display:flex;gap:8px;overflow-x:auto;scrollbar-width:thin;padding-bottom:2px;}
.proj-lightbox-thumb{width:64px;height:42px;border:1px solid var(--border2);padding:0;background:var(--surface);overflow:hidden;opacity:.75;cursor:pointer;flex-shrink:0;}
.proj-lightbox-thumb.active{opacity:1;border-color:var(--accent);}
.proj-lightbox-thumb img{width:100%;height:100%;object-fit:cover;display:block;}
.proj-lightbox-hint{font-family:var(--font-body);font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:var(--muted);}

/* -- CONTACT -- */
#contact{padding:86px 0 80px;}
.contact-layout{display:grid;grid-template-columns:minmax(0,1fr) minmax(340px,480px);gap:0;border:1px solid var(--border);background:rgba(9,25,35,.62);border-radius:24px;overflow:hidden;max-width:1240px;width:calc(100% - 40px);margin:0 auto;}
.contact-left{padding:60px 52px;border-right:1px solid var(--border);min-width:0;}
.contact-headline{font-family:var(--font-display);font-size:clamp(58px,7.2vw,112px);line-height:.92;letter-spacing:.02em;color:var(--text);margin-bottom:40px;max-width:100%;overflow-wrap:anywhere;word-break:break-word;}
.contact-headline em{color:var(--accent);font-style:normal;}
.contact-sub{font-family:var(--font-ui);font-size:16px;color:rgba(231,243,247,.72);line-height:1.72;max-width:480px;margin-bottom:52px;}
.contact-links{display:flex;flex-direction:column;gap:10px;}
.contact-row{display:flex;align-items:center;padding:16px 18px;border:1px solid transparent;text-decoration:none;cursor:pointer;transition:background .25s,border-color .25s;margin:0;border-radius:14px;background:rgba(9,25,35,.45);}
.contact-row:hover{background:rgba(91,124,250,.10);border-color:rgba(91,124,250,.4);}
.contact-row-label{font-family:var(--font-body);font-size:9px;letter-spacing:.24em;text-transform:uppercase;color:var(--muted);min-width:90px;}
.contact-row-val{font-family:var(--font-ui);font-size:15px;font-weight:700;color:var(--text);flex:1;transition:color .25s;min-width:0;overflow-wrap:anywhere;}
.contact-row:hover .contact-row-val{color:var(--accent);}
.contact-row-arrow{color:var(--accent);font-size:18px;opacity:.45;transform:none;transition:opacity .25s,color .25s;}
.contact-row:hover .contact-row-arrow{opacity:1;transform:none;}
.contact-right{padding:60px 40px;min-width:0;}
.contact-form{display:flex;flex-direction:column;gap:20px;min-width:0;}
.cf-field{display:flex;flex-direction:column;gap:8px;min-width:0;}
.cf-field label{font-family:var(--font-body);font-size:9px;letter-spacing:.3em;text-transform:uppercase;color:var(--muted);}
.cf-field input,.cf-field textarea{background:var(--surface);border:1px solid var(--border2);padding:14px 16px;color:var(--text);font-family:var(--font-body);font-size:13px;outline:none;transition:border-color .25s,border-color .25s;border-radius:12px;resize:none;cursor:auto;clip-path:none;width:100%;display:block;}
.cf-field input:focus,.cf-field textarea:focus{border-color:var(--accent);}
.cf-field textarea{height:130px;}
.cf-submit{background:var(--accent);color:#081017;border:none;padding:14px 26px;font-family:var(--font-body);font-size:11px;font-weight:700;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;transition:background .25s,transform .25s;align-self:flex-start;border-radius:999px;clip-path:none;box-shadow:0 8px 18px rgba(91,124,250,.24);}
.cf-submit:hover{background:var(--accent-hover);}

/* footer */
.site-footer{border:1px solid var(--border);padding:18px 24px;display:flex;justify-content:space-between;align-items:center;gap:12px;background:rgba(9,25,35,.72);margin:12px auto max(16px,env(safe-area-inset-bottom));width:min(1240px,calc(100% - 24px));border-radius:20px;}
body.has-policy-banner .site-footer{margin-bottom:max(124px,env(safe-area-inset-bottom));}
.foot-copy,.foot-made{font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--muted);}
.foot-made em{color:var(--accent);font-style:normal;}
.foot-links{display:flex;gap:12px;flex-wrap:wrap;}
.foot-link{font-family:var(--font-body);font-size:10px;font-weight:600;letter-spacing:.14em;text-transform:uppercase;color:var(--accent);text-decoration:none;border:1px solid rgba(91,124,250,.45);padding:6px 8px;background:rgba(91,124,250,.12);border-radius:999px;}
.foot-link:hover{background:rgba(91,124,250,.22);border-color:var(--accent);}
.site-disclaimer{width:min(1240px,calc(100% - 24px));margin:0 auto 18px;padding:0 4px;text-align:center;font-family:var(--font-ui);font-size:11px;line-height:1.55;color:var(--muted);opacity:.9;}
body.has-policy-banner .site-disclaimer{margin-bottom:max(128px,env(safe-area-inset-bottom));}
a:focus-visible,button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:2px solid var(--accent);outline-offset:2px;box-shadow:0 0 0 2px rgba(6,7,10,.9);}

/* ----------------------------------------------
   ¦¦¦¦¦¦ ADMIN SYSTEM ¦¦¦¦¦¦
---------------------------------------------- */
/* Login */
#loginModal{display:none;position:fixed;inset:0;z-index:10000;background:rgba(6,7,10,.96);backdrop-filter:blur(10px);align-items:center;justify-content:center;}
#loginModal.open{display:flex;animation:pgIn .4s ease;}
.login-box{background:var(--surface);border:1px solid var(--border2);padding:42px;width:100%;max-width:400px;position:relative;border-radius:20px;}
.login-box::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent);}
.login-ey{font-family:var(--font-body);font-size:9px;letter-spacing:.35em;text-transform:uppercase;color:var(--accent);margin-bottom:24px;}
.login-title{font-family:var(--font-display);font-size:52px;line-height:1;color:var(--text);margin-bottom:6px;}
.login-sub{font-family:var(--font-body);font-size:11px;color:var(--muted);letter-spacing:.1em;margin-bottom:28px;}
.login-hint{background:var(--bg);border:1px solid var(--border);padding:12px 16px;margin-bottom:22px;font-family:var(--font-body);font-size:10px;color:var(--muted);letter-spacing:.08em;line-height:1.8;}
.login-hint strong{color:var(--accent);}
.lf{display:flex;flex-direction:column;gap:7px;margin-bottom:14px;}
.lf label{font-family:var(--font-body);font-size:9px;letter-spacing:.28em;text-transform:uppercase;color:var(--muted);}
.lf input{background:var(--bg);border:1px solid var(--border);padding:12px 14px;color:var(--text);font-family:var(--font-body);font-size:13px;outline:none;transition:border-color .25s;cursor:auto;border-radius:12px;}
.lf input:focus{border-color:var(--accent);}
.login-btn{width:100%;padding:14px;background:var(--accent);border:none;color:#06070a;font-family:var(--font-body);font-size:11px;font-weight:500;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;margin-top:8px;transition:background .25s;border-radius:999px;}
.login-btn:hover{background:var(--accent-hover);}
.login-err{font-family:var(--font-body);font-size:10px;color:var(--danger);letter-spacing:.1em;margin-top:12px;display:none;}
.login-close{position:absolute;top:14px;right:14px;background:var(--bg);border:1px solid var(--border);color:var(--muted);font-size:20px;cursor:pointer;line-height:1;width:32px;height:32px;border-radius:50%;}

/* Panel */
#adminPanel{display:none;position:fixed;top:0;right:0;bottom:0;z-index:9500;width:520px;max-width:100vw;background:var(--surface);border-left:1px solid var(--border2);flex-direction:column;box-shadow:-24px 0 62px rgba(0,0,0,.45);border-radius:20px 0 0 20px;overflow:hidden;}
#adminPanel.open{display:flex;animation:slideIn .4s ease;}
@keyframes slideIn{from{transform:translateX(100%)}to{transform:translateX(0)}}
#adminPanel::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent);z-index:1;}

.ap-head{padding:18px 24px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;}
.ap-head-left{display:flex;align-items:center;gap:10px;}
.ap-pulse{width:8px;height:8px;border-radius:50%;background:var(--accent);animation:blink 2s ease-in-out infinite;}
.ap-title{font-family:var(--font-body);font-size:10px;letter-spacing:.25em;text-transform:uppercase;color:var(--text);}
.ap-x{background:none;border:1px solid var(--border2);color:var(--muted);width:32px;height:32px;cursor:pointer;font-size:15px;display:flex;align-items:center;justify-content:center;transition:border-color .25s,color .25s;border-radius:10px;}
.ap-x:hover{border-color:var(--accent);color:var(--accent);}

/* Tabs — scrollable strip */
.ap-tabs{display:flex;border-bottom:1px solid var(--border);flex-shrink:0;overflow-x:auto;padding:8px 10px;gap:8px;}
.ap-tabs::-webkit-scrollbar{height:2px;}
.ap-tabs::-webkit-scrollbar-thumb{background:var(--border2);}
.ap-tab{flex-shrink:0;padding:10px 14px;background:none;border:1px solid transparent;font-family:var(--font-body);font-size:9px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);cursor:pointer;transition:color .25s,border-color .25s,background .25s;white-space:nowrap;border-radius:999px;}
.ap-tab:hover{color:var(--text);}
.ap-tab.active{color:var(--accent);border-color:rgba(91,124,250,.45);background:rgba(91,124,250,.14);}

.ap-body{flex:1;overflow-y:auto;padding:24px;}
.ap-body::-webkit-scrollbar{width:3px;}
.ap-body::-webkit-scrollbar-thumb{background:var(--border2);}
.ap-pane{display:none;}
.ap-pane.active{display:block;animation:pgIn .3s ease;}

/* Field atoms */
.ap-sec{font-family:var(--font-body);font-size:9px;letter-spacing:.3em;text-transform:uppercase;color:var(--accent);margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid var(--border);}
.ap-grp{margin-bottom:28px;}
.ap-f{display:flex;flex-direction:column;gap:7px;margin-bottom:14px;}
.ap-f label{font-family:var(--font-body);font-size:9px;letter-spacing:.22em;text-transform:uppercase;color:var(--muted);}
.ap-f input,.ap-f textarea,.ap-f select{background:var(--bg);border:1px solid var(--border);padding:10px 13px;color:var(--text);font-family:var(--font-body);font-size:11px;outline:none;transition:border-color .25s;border-radius:10px;cursor:auto;resize:vertical;}
.ap-f input:focus,.ap-f textarea:focus{border-color:var(--accent);}
.ap-f textarea{min-height:80px;line-height:1.6;}
.ap-f select option{background:var(--surface);}

/* Image drop */
.img-drop{border:1px dashed var(--border2);padding:16px;text-align:center;cursor:pointer;transition:border-color .25s;position:relative;border-radius:14px;}
.img-drop:hover{border-color:var(--accent);}
.img-drop-lbl{font-family:var(--font-body);font-size:9px;letter-spacing:.22em;text-transform:uppercase;color:var(--muted);}
.img-prev{width:100%;max-height:100px;object-fit:cover;display:none;margin-top:10px;border:1px solid var(--border);}
.proj-img-list{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;}
.proj-img-item{border:1px solid var(--border);padding:6px;background:var(--surface);border-radius:10px;}
.proj-img-item img{width:100%;height:80px;object-fit:cover;display:block;margin-bottom:6px;}
.proj-img-item button{width:100%;padding:6px;border:1px solid var(--danger);background:none;color:var(--danger);font-family:var(--font-body);font-size:8px;letter-spacing:.14em;text-transform:uppercase;cursor:pointer;border-radius:8px;}

/* Skills */
.skill-wrap{display:flex;flex-wrap:wrap;gap:7px;margin-bottom:10px;}
.sk-item{display:flex;align-items:center;gap:5px;background:var(--bg);border:1px solid var(--border);padding:5px 11px;font-family:var(--font-body);font-size:9px;color:var(--muted);border-radius:999px;}
.sk-del{background:none;border:none;color:var(--danger);cursor:pointer;font-size:14px;line-height:1;}
.sk-row{display:flex;gap:7px;}
.sk-inp{flex:1;background:var(--bg);border:1px solid var(--border);padding:8px 12px;color:var(--text);font-family:var(--font-body);font-size:10px;outline:none;cursor:auto;border-radius:999px;}
.sk-inp:focus{border-color:var(--accent);}
.sk-btn{background:var(--border2);border:none;color:var(--text);padding:7px 14px;cursor:pointer;font-size:16px;transition:background .25s;border-radius:999px;}
.sk-btn:hover{background:var(--accent);color:var(--bg);}

/* Project editor card */
.pec{background:var(--bg);border:1px solid var(--border);padding:12px 14px;margin-bottom:10px;border-radius:14px;}
.pec-head{display:flex;justify-content:space-between;align-items:center;cursor:pointer;user-select:none;}
.pec-name{font-family:var(--font-body);font-size:10px;color:var(--text);letter-spacing:.06em;}
.pec-cat{font-family:var(--font-body);font-size:9px;color:var(--accent);letter-spacing:.15em;text-transform:uppercase;margin-top:3px;}
.pec-arr{color:var(--muted);font-size:11px;transition:transform .2s;}
.pec-arr.open{transform:rotate(180deg);}
.pec-det{display:none;margin-top:12px;padding-top:12px;border-top:1px solid var(--border);}
.pec-det.open{display:block;}

/* -- ESTETICA TAB -- */
/* Color swatch */
.color-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px;}
.color-field{display:flex;flex-direction:column;gap:6px;}
.color-field label{font-family:var(--font-body);font-size:9px;letter-spacing:.22em;text-transform:uppercase;color:var(--muted);}
.color-wrap{display:flex;align-items:center;gap:10px;background:var(--bg);border:1px solid var(--border);padding:8px 12px;border-radius:10px;}
.color-wrap input[type=color]{width:28px;height:28px;border:none;background:none;cursor:pointer;padding:0;flex-shrink:0;}
.color-wrap input[type=text]{flex:1;background:none;border:none;color:var(--text);font-family:var(--font-body);font-size:11px;outline:none;cursor:auto;}

/* Font picker */
.font-options{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:14px;}
.font-opt{background:var(--bg);border:1px solid var(--border);padding:14px 12px;cursor:pointer;text-align:center;transition:border-color .25s,background .25s;position:relative;border-radius:12px;}
.font-opt:hover{border-color:var(--accent);}
.font-opt.selected{border-color:var(--accent);background:rgba(91,124,250,.14);}
.font-opt.selected::after{content:'\2713';position:absolute;top:6px;right:8px;font-size:10px;color:var(--accent);}
.font-opt-name{font-size:18px;margin-bottom:4px;line-height:1.2;}
.font-opt-label{font-family:var(--font-body);font-size:9px;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);}

/* Toggle switch */
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border);}
.toggle-label{font-family:var(--font-body);font-size:10px;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);}
.toggle{position:relative;width:40px;height:22px;flex-shrink:0;}
.toggle input{opacity:0;width:0;height:0;position:absolute;}
.toggle-track{position:absolute;inset:0;background:var(--border2);cursor:pointer;transition:background .3s;border-radius:999px;}
.toggle input:checked+.toggle-track{background:var(--accent);}
.toggle-track::before{content:'';position:absolute;width:16px;height:16px;left:3px;bottom:3px;background:var(--muted);transition:transform .3s,background .3s;border-radius:50%;}
.toggle input:checked+.toggle-track::before{transform:translateX(18px);background:var(--bg);}

/* Slider */
.slider-row{display:flex;flex-direction:column;gap:8px;margin-bottom:14px;}
.slider-row label{font-family:var(--font-body);font-size:9px;letter-spacing:.22em;text-transform:uppercase;color:var(--muted);display:flex;justify-content:space-between;}
.slider-row label span{color:var(--accent);}
input[type=range]{-webkit-appearance:none;width:100%;height:4px;background:var(--border);cursor:pointer;border-radius:999px;outline:none;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;background:var(--accent);cursor:pointer;border-radius:50%;}

/* Theme presets */
.theme-presets{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:14px;}
.theme-swatch{border:1px solid var(--border);padding:14px 12px;cursor:pointer;transition:border-color .25s;position:relative;border-radius:12px;}
.theme-swatch:hover{border-color:var(--accent);}
.theme-swatch-bar{height:6px;margin-bottom:8px;display:flex;gap:2px;}
.theme-swatch-bar span{flex:1;height:100%;}
.theme-swatch-name{font-family:var(--font-body);font-size:9px;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);}

/* Separator */
.ap-sep{border:none;border-top:1px solid var(--border);margin:20px 0;}

/* Danger/utility btns */
.ap-dbtn{background:none;border:1px solid var(--danger);color:var(--danger);padding:6px 12px;font-family:var(--font-body);font-size:9px;letter-spacing:.15em;cursor:pointer;text-transform:uppercase;transition:background .25s;border-radius:999px;}
.ap-dbtn:hover{background:rgba(255,64,64,.12);}

/* Panel footer */
.ap-foot{padding:16px 24px;border-top:1px solid var(--border);display:flex;gap:10px;flex-shrink:0;}
.ap-save{flex:1;padding:13px;background:var(--accent);border:none;color:#06070a;font-family:var(--font-body);font-size:10px;font-weight:500;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;transition:background .25s;border-radius:999px;}
.ap-save:hover{background:var(--accent-hover);}
.ap-save.saved{background:var(--success);color:#fff;}
.ap-out{padding:13px 16px;background:none;border:1px solid var(--border);color:var(--muted);font-family:var(--font-body);font-size:9px;letter-spacing:.2em;cursor:pointer;transition:border-color .25s,color .25s;text-transform:uppercase;border-radius:999px;}
.ap-out:hover{border-color:var(--danger);color:var(--danger);}

/* Toast */
#toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(12px);background:var(--surface);border:1px solid var(--accent);color:var(--accent);padding:12px 28px;font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;z-index:20000;opacity:0;transition:opacity .3s,transform .3s;pointer-events:none;white-space:nowrap;}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0);}
#toast.ok{border-color:var(--success);color:var(--success);}

/* Privacy + Cookie banners */
.privacy-banner{position:fixed;inset:auto 16px 16px 16px;background:rgba(6,7,10,.97);border:1px solid var(--border2);padding:14px;z-index:21000;display:none;max-width:680px;margin:0 auto;left:0;right:0;border-radius:14px;}
.privacy-banner.open{display:block;}
.privacy-title{font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin-bottom:8px;}
.privacy-text{font-family:var(--font-ui);font-size:13px;line-height:1.6;color:#c3c8d9;margin-bottom:10px;}
.privacy-actions{display:flex;gap:8px;flex-wrap:wrap;}
.pb-btn{border:1px solid var(--border2);background:var(--surface);color:var(--text);padding:8px 12px;font-family:var(--font-body);font-size:9px;letter-spacing:.16em;text-transform:uppercase;cursor:pointer;border-radius:999px;}
.pb-btn.primary{border-color:var(--accent);color:var(--accent);}
.cookie-banner{position:fixed;left:16px;right:16px;bottom:16px;background:rgba(6,7,10,.98);border:1px solid var(--border2);padding:14px;z-index:20999;display:none;border-radius:14px;}
.cookie-banner.open{display:block;}
.cookie-text{font-family:var(--font-ui);font-size:13px;line-height:1.6;color:#c3c8d9;margin:0 0 10px;}
.cookie-actions{display:flex;gap:8px;flex-wrap:wrap;}
.legal-link{color:var(--accent);text-decoration:underline;}
.legal-modal{position:fixed;inset:0;background:rgba(4,6,10,.92);z-index:22000;display:none;align-items:flex-start;justify-content:center;padding:20px;overflow:auto;}
.legal-modal.open{display:flex;}
.legal-card{width:min(980px,100%);background:var(--surface);border:1px solid var(--border2);padding:18px;border-radius:18px;}
.legal-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px;}
.legal-title{font-family:var(--font-body);font-size:11px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);}
.legal-close{border:1px solid var(--border2);background:var(--bg);color:var(--text);width:34px;height:34px;cursor:pointer;font-size:20px;line-height:1;border-radius:50%;}
.legal-content{font-family:var(--font-ui);font-size:14px;line-height:1.7;color:#cbd1e0;max-height:74vh;overflow:auto;padding-right:6px;}
.legal-content h3{font-family:var(--font-body);font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin:14px 0 6px;}
.legal-content p{margin:0 0 10px;}
.legal-content ul{margin:0 0 10px 18px;padding:0;}
.legal-content li{margin:0 0 6px;}

/* Responsive */
@media(hover:none),(pointer:coarse){
  body{cursor:auto;}
  .cursor,.cursor-ring{display:none !important;}
  #adminTrigger{opacity:.85;}
  .hero-right{animation:none;}
  .nav-logo,.nav-links a,.filter-btn,.proj-card,.proj-overlay-arrow,.proj-lightbox-close,.contact-row,.cta-primary,.cta-secondary{cursor:pointer;}
  .proj-card,.proj-card:hover{transform:none !important;}
  .signature-card,.signature-card:hover,.manifesto-item,.manifesto-item:hover{transform:none !important;box-shadow:none;}
  .proj-overlay{transform:translateY(0);opacity:1;padding:16px;background:linear-gradient(to top,rgba(6,7,10,.82) 0%,rgba(6,7,10,.14) 65%,transparent 100%);}
.proj-overlay-arrow{opacity:1;top:12px;right:12px;width:44px;height:44px;background:rgba(6,7,10,.82);}
.proj-overlay-name{font-size:14px;}
.proj-thumb-gallery{bottom:64px;}
}
@media(max-width:1240px){
  .contact-layout{grid-template-columns:1fr;}
  .contact-left{padding:44px 30px;border-right:0;border-bottom:1px solid var(--border);}
  .contact-right{padding:34px 30px;}
}
@media(max-width:960px){
  nav{top:10px;width:calc(100% - 20px);padding:0 20px;gap:8px;height:64px;border-radius:18px;}
  .nav-status{display:none;}
  .nav-links{flex:1;justify-content:flex-end;overflow-x:auto;scrollbar-width:none;}
  .nav-links::-webkit-scrollbar{display:none;}
  .nav-links a{min-height:36px;display:inline-flex;align-items:center;}

  .home-hero{grid-template-columns:1fr;gap:28px;padding:54px 24px;}
  .home-hero::after{display:none;}
  .hero-right{padding:24px;border:1px solid var(--border);border-radius:20px;}
  .hero-right-logo{width:clamp(130px,32vw,220px);}
  .hero-desc{font-size:16px;}
  .signature-shell,.manifesto-wrap{padding:26px;}
  .signature-head{grid-template-columns:1fr;gap:10px;}
  .signature-grid{grid-template-columns:1fr 1fr;}
  .signature-card:nth-child(2),.signature-card:nth-child(3){transform:none;}
  .manifesto-grid{grid-template-columns:1fr;}
  .case-study-wrap{grid-template-columns:1fr;padding:24px;}
  .case-title{font-size:42px;}

  .about-grid{grid-template-columns:1fr;}
  .about-img-col{border-right:0;border-bottom:1px solid var(--border);}
  .about-img-frame{aspect-ratio:16/9;}
  .about-content-col{padding:32px 24px;}
  .about-specs{grid-template-columns:1fr;}

  .section-intro{padding:40px 24px 0;}
  .portfolio-grid{grid-template-columns:1fr 1fr;}
  .port-intro{padding:24px;}

  .contact-layout{grid-template-columns:1fr;}
  .contact-left{padding:40px 24px;border-right:0;border-bottom:1px solid var(--border);}
  .contact-right{padding:32px 24px;}
  .contact-row{margin:0;padding-left:18px;padding-right:18px;}
  .contact-headline{font-size:clamp(52px,12vw,88px);}

  .site-footer{padding:16px 18px;flex-direction:column;gap:8px;text-align:center;}
  .foot-links{justify-content:center;gap:10px;}
  #adminPanel{width:100%;}
  .quick-style-dock{left:10px;top:84px;max-width:calc(100vw - 20px);}
}
@media(max-width:600px){
  nav{height:auto;min-height:62px;align-items:center;flex-wrap:nowrap;padding-top:8px;padding-bottom:8px;position:fixed;left:8px;right:8px;transform:none;width:auto;border-radius:14px;}
  .nav-logo{font-size:12px;}
  .nav-logo-icon{width:16px;height:16px;}
  .nav-mobile-toggle{display:inline-flex;margin-left:auto;}
  .nav-links{display:none;position:absolute;left:0;right:0;top:100%;padding:8px 10px;background:rgba(9,25,35,.98);border-top:1px solid var(--border);flex-direction:column;gap:6px;border-radius:0 0 14px 14px;max-height:min(72vh,420px);overflow-y:auto;}
  body.mode-light .nav-links{background:rgba(255,255,255,.98);box-shadow:0 16px 26px rgba(31,44,73,.14);}
  .nav-links.open{display:flex;}
  .nav-links li{width:100%;}
  .nav-links a{padding:10px 12px;font-size:10px;display:flex;width:100%;border:1px solid var(--border);min-height:44px;align-items:center;}
  body.mode-light .nav-links a{background:rgba(255,255,255,.9);}

  .home-hero{padding:26px 18px 30px;}
  .hero-meta{font-size:9px;letter-spacing:.2em;gap:10px;}
  .hero-name{font-size:56px;}
  .hero-right-logo-wrap{padding:0 0 12px;margin-bottom:4px;}
  .hero-right-logo{width:116px;}
  .hero-role{font-size:10px;margin-top:16px;margin-bottom:24px;}
  .hero-desc{font-size:14px;line-height:1.65;margin-bottom:30px;}
  .hero-cta-row{gap:12px;flex-wrap:wrap;}
  .cta-primary,.cta-secondary{font-size:10px;}
  .home-signature,.home-manifesto{width:calc(100% - 20px);margin-top:12px;}
  .signature-shell,.manifesto-wrap{padding:18px;border-radius:18px;}
  .signature-title{font-size:38px;}
  .signature-note{font-size:14px;line-height:1.6;}
  .signature-grid{grid-template-columns:1fr;}
  .manifesto-quote{padding:20px 18px;border-radius:16px;}
  .manifesto-quote h3{font-size:38px;}
  .manifesto-lead{font-size:14px;line-height:1.62;}
  .home-case-study{width:calc(100% - 20px);margin-top:12px;}
  .case-study-wrap{padding:16px;border-radius:18px;}
  .case-title{font-size:32px;}
  .case-meta{font-size:14px;line-height:1.58;}
  .case-stage{border-radius:14px;aspect-ratio:1/1;}
  .case-side-card{padding:12px;}
  .case-label{top:10px;font-size:7px;letter-spacing:.16em;padding:5px 7px;max-width:calc(50% - 16px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
  .case-slider{left:10px;right:10px;width:calc(100% - 20px);bottom:10px;}

  .section-intro{padding:34px 18px 0;}
  .section-num{font-size:56px;}
  .portfolio-grid{grid-template-columns:1fr;}
  .filter-btn{min-height:44px;padding:12px 18px;}
  .proj-overlay{padding:14px;}
  .proj-overlay-cat{font-size:8px;}
  .proj-overlay-name{font-size:13px;}
  .proj-thumb-collage{padding:8px;}
  .proj-thumb-collage::after{inset:8px;}
  .proj-thumb-second{right:12px;bottom:12px;width:42%;max-width:none;padding:3px;transform:rotate(-2deg);}
  .proj-lightbox{padding:10px;}
  .proj-lightbox-img{max-width:100%;max-height:56vh;}
  .proj-lightbox-nav{width:44px;height:44px;}
  .proj-lightbox-meta{padding:12px;}
  .proj-lightbox-title{font-size:16px;}
  .proj-lightbox-count{font-size:8px;padding:3px 6px;}
  .proj-lightbox-desc{font-size:14px;line-height:1.55;}
  .proj-lightbox-hint{font-size:8px;letter-spacing:.16em;}
  .proj-lightbox-close{top:max(10px,env(safe-area-inset-top));right:max(10px,env(safe-area-inset-right));width:44px;height:44px;}
  .proj-label{padding:12px 14px;gap:10px;}
  .proj-desc{font-size:11px;-webkit-line-clamp:4;line-clamp:4;}
  .proj-img-list{grid-template-columns:1fr;}
  .privacy-banner,.cookie-banner{left:10px;right:10px;bottom:10px;padding:12px;}
  .privacy-text,.cookie-text{font-size:12px;line-height:1.5;}
  .legal-modal{padding:10px;}
  .legal-card{padding:12px;}
  .legal-content{font-size:13px;max-height:76vh;}
  .port-intro,.about-content-col,.contact-left,.contact-right{padding-left:18px;padding-right:18px;}
  .contact-row{margin:0;padding-left:14px;padding-right:14px;min-height:46px;}
  .contact-headline{font-size:46px;}
  .spec-item{padding:14px 16px;}
  .quick-style-dock{top:auto;bottom:max(12px,env(safe-area-inset-bottom));left:8px;right:8px;padding:6px;gap:6px;border-radius:14px;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));}
  .quick-style-btn{min-height:40px;padding:8px 6px;justify-content:center;gap:6px;min-width:0;overflow:hidden;}
  .quick-style-key{font-size:8px;letter-spacing:.1em;}
  .quick-style-val{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;}
  #adminTrigger{right:8px;bottom:max(74px,env(safe-area-inset-bottom));width:40px;height:40px;}
  .site-footer{margin-bottom:max(74px,env(safe-area-inset-bottom));}
  .site-disclaimer{margin-bottom:max(78px,env(safe-area-inset-bottom));}
  body.has-policy-banner .quick-style-dock{bottom:max(126px,env(safe-area-inset-bottom));}
  body.has-policy-banner #adminTrigger{bottom:max(188px,env(safe-area-inset-bottom));}
  body.has-policy-banner .site-footer{margin-bottom:max(186px,env(safe-area-inset-bottom));}
  body.has-policy-banner .site-disclaimer{margin-bottom:max(190px,env(safe-area-inset-bottom));}
  .cf-field input,.cf-field textarea{font-size:16px;}
  #toast{max-width:calc(100vw - 24px);white-space:normal;text-align:center;line-height:1.35;}
}
@media(max-width:480px){
  .privacy-banner,.cookie-banner{
    left:8px;
    right:8px;
    bottom:max(8px,env(safe-area-inset-bottom));
    padding:10px;
    border-radius:8px;
  }
  .privacy-title{font-size:9px;letter-spacing:.15em;margin-bottom:6px;}
  .privacy-text,.cookie-text{font-size:11px;line-height:1.45;margin-bottom:8px;}
  .privacy-actions,.cookie-actions{display:grid;grid-template-columns:1fr 1fr;gap:6px;}
  .pb-btn{
    width:100%;
    min-height:40px;
    padding:8px 10px;
    font-size:8px;
    letter-spacing:.12em;
  }
  .legal-modal{
    padding:8px;
    align-items:flex-end;
  }
  .legal-card{
    width:100%;
    max-height:84vh;
    border-radius:10px 10px 0 0;
    padding:10px;
  }
  .legal-head{margin-bottom:8px;}
  .legal-title{font-size:9px;letter-spacing:.14em;}
  .legal-close{width:36px;height:36px;font-size:22px;}
  .legal-content{
    max-height:70vh;
    font-size:12px;
    line-height:1.5;
    padding-right:2px;
  }
  .legal-content h3{font-size:9px;letter-spacing:.14em;margin:10px 0 4px;}
  .site-footer{padding:14px 12px;gap:10px;}
  .foot-copy,.foot-made{font-size:9px;letter-spacing:.14em;}
  .foot-links{width:100%;display:grid;grid-template-columns:1fr;gap:8px;}
  .foot-link{display:block;text-align:center;padding:9px 10px;font-size:9px;}
  .site-disclaimer{font-size:10px;line-height:1.45;padding:0 2px;margin-bottom:max(78px,env(safe-area-inset-bottom));}
  .quick-style-key{display:none;}
  .quick-style-btn{padding:8px 4px;font-size:9px;}
  #adminTrigger{width:38px;height:38px;right:8px;}
}
@media(max-width:380px){
  .hero-name{font-size:48px;}
  .nav-links a{padding:6px 8px;font-size:9px;}
  .hero-right-logo{width:92px;}
}
</style>
</head>
<body class="no-glitch mode-light look-luxury">
<div class="grid-bg"></div>
<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<button id="adminTrigger" title="Admin" onclick="openLogin()">
  <svg viewBox="0 0 24 24"><path d="M12 2a5 5 0 110 10A5 5 0 0112 2zm0 12c5.33 0 8 2.67 8 4v2H4v-2c0-1.33 2.67-4 8-4z"/></svg>
</button>

<!-- -------------------------- LOGIN -------------------------- -->
<div id="loginModal">
  <div class="login-box">
    <button class="login-close" onclick="closeLogin()">×</button>
    <div class="login-ey">// accesso riservato</div>
    <div class="login-title">Admin_</div>
    <div class="login-sub">veronica.baccarin · pannello di controllo</div>
<div class="lf"><label>Username</label><input type="text" id="loginUser" placeholder="veronica" autocomplete="username"/></div>
    <div class="lf"><label>Password</label><input type="password" id="loginPass" placeholder="••••••••" autocomplete="current-password" onkeydown="if(event.key==='Enter')doLogin()"/></div>
    <button class="login-btn" onclick="doLogin()">Accedi</button>
    <div class="login-err" id="loginErr">Credenziali errate. Riprova.</div>
  </div>
</div>

<!-- -------------------------- ADMIN PANEL -------------------------- -->
<div id="adminPanel">
  <div class="ap-head">
    <div class="ap-head-left"><div class="ap-pulse"></div><div class="ap-title">// pannello admin — v2</div></div>
    <button class="ap-x" onclick="closeAdmin()">×</button>
  </div>

  <!-- 5 TABS -->
  <div class="ap-tabs">
    <button class="ap-tab active" onclick="switchTab('t-home',this)">Home</button>
    <button class="ap-tab" onclick="switchTab('t-about',this)">About</button>
    <button class="ap-tab" onclick="switchTab('t-portfolio',this)">Portfolio</button>
    <button class="ap-tab" onclick="switchTab('t-contact',this)">Contatti</button>
    <button class="ap-tab" onclick="switchTab('t-design',this)">Estetica</button>
  </div>

  <div class="ap-body">

    <!-- -- TAB HOME -- -->
    <div class="ap-pane active" id="t-home">
      <div class="ap-grp">
        <div class="ap-sec">Testi homepage</div>
        <div class="ap-f"><label>Etichetta hero (riga colorata)</label><input type="text" id="f-homeTag"/></div>
        <div class="ap-f"><label>Descrizione principale</label><textarea id="f-homeDesc" rows="4"></textarea></div>
        <div class="ap-f"><label>Testo pulsante CTA</label><input type="text" id="f-homeCta"/></div>
        <div class="ap-f"><label>Testo stato disponibilità (nav)</label><input type="text" id="f-navStatus"/></div>
      </div>
    </div>

    <!-- -- TAB ABOUT -- -->
    <div class="ap-pane" id="t-about">
      <div class="ap-grp">
        <div class="ap-sec">Foto profilo</div>
        <div class="ap-f">
          <label>Carica foto (JPG / PNG / WEBP)</label>
          <div class="img-drop" onclick="document.getElementById('abiInp').click()">
            <div class="img-drop-lbl">Clicca per scegliere</div>
            <input type="file" id="abiInp" accept="image/*" style="display:none" onchange="handleImg(this,'aboutImg','abiPrev')"/>
            <img id="abiPrev" class="img-prev"/>
          </div>
        </div>
        <div id="abiClearWrap" style="display:none;margin-top:6px;">
          <button class="ap-dbtn" onclick="clearAboutImg()">Rimuovi foto</button>
        </div>
      </div>
      <div class="ap-grp">
        <div class="ap-sec">Biografia</div>
        <div class="ap-f"><label>Testo (doppio invio = paragrafo)</label><textarea id="f-bio" rows="10"></textarea></div>
      </div>
      <div class="ap-grp">
        <div class="ap-sec">Statistiche</div>
        <div class="ap-f"><label>Anni di esperienza</label><input type="text" id="f-s1"/></div>
        <div class="ap-f"><label>Progetti completati</label><input type="text" id="f-s2"/></div>
        <div class="ap-f"><label>Clienti soddisfatti</label><input type="text" id="f-s3"/></div>
      </div>
      <div class="ap-grp">
        <div class="ap-sec">Competenze / Skills</div>
        <div class="skill-wrap" id="skillWrap"></div>
        <div class="sk-row">
          <input class="sk-inp" id="skInp" placeholder="Aggiungi skill..." onkeydown="if(event.key==='Enter')addSkill()"/>
          <button class="sk-btn" onclick="addSkill()">+</button>
        </div>
      </div>
    </div>

    <!-- -- TAB PORTFOLIO -- -->
    <div class="ap-pane" id="t-portfolio">
      <div class="ap-grp">
        <div class="ap-sec">Testo introduttivo</div>
        <div class="ap-f"><textarea id="f-portIntro" rows="3"></textarea></div>
      </div>
      <div class="ap-grp">
        <div class="ap-sec">Progetti — clicca per espandere</div>
        <div id="projEditor"></div>
      </div>
    </div>

    <!-- -- TAB CONTATTI -- -->
    <div class="ap-pane" id="t-contact">
      <div class="ap-grp">
        <div class="ap-sec">Testo pagina</div>
        <div class="ap-f"><textarea id="f-contSub" rows="3"></textarea></div>
      </div>
      <div class="ap-grp">
        <div class="ap-sec">Link & contatti</div>
        <div class="ap-f"><label>Email</label><input type="email" id="f-email"/></div>
        <div class="ap-f"><label>Instagram</label><input type="text" id="f-ig"/></div>
        <div class="ap-f"><label>Behance</label><input type="text" id="f-be"/></div>
<div class="ap-f"><label>LinkedIn</label><input type="text" id="f-li"/></div>
      </div>
    </div>

    <!-- -- TAB ESTETICA -- -->
    <div class="ap-pane" id="t-design">

      <!-- PRESET TEMI -->
      <div class="ap-grp">
        <div class="ap-sec">Preset temi</div>
        <div class="theme-presets" id="themePresets">
          <div class="theme-swatch" onclick="applyTheme('lime')" data-theme="lime">
            <div class="theme-swatch-bar"><span style="background:#0d111a"></span><span style="background:#5b7cfa"></span><span style="background:#5dd3ff"></span><span style="background:#eef2ff"></span></div>
            <div class="theme-swatch-name">Cobalt Studio</div>
          </div>
          <div class="theme-swatch" onclick="applyTheme('violet')" data-theme="violet">
            <div class="theme-swatch-bar"><span style="background:#110f19"></span><span style="background:#8e7dff"></span><span style="background:#b5a8ff"></span><span style="background:#f2eeff"></span></div>
            <div class="theme-swatch-name">Midnight Plum</div>
          </div>
          <div class="theme-swatch" onclick="applyTheme('coral')" data-theme="coral">
            <div class="theme-swatch-bar"><span style="background:#171311"></span><span style="background:#c97a4a"></span><span style="background:#e3b28a"></span><span style="background:#f4efea"></span></div>
            <div class="theme-swatch-name">Warm Editorial</div>
          </div>
          <div class="theme-swatch" onclick="applyTheme('ice')" data-theme="ice">
            <div class="theme-swatch-bar"><span style="background:#0d1516"></span><span style="background:#3bb8a6"></span><span style="background:#9be2d8"></span><span style="background:#e8f3f2"></span></div>
            <div class="theme-swatch-name">Teal Minimal</div>
          </div>
          <div class="theme-swatch" onclick="applyTheme('rose')" data-theme="rose">
            <div class="theme-swatch-bar"><span style="background:#161218"></span><span style="background:#c35b8f"></span><span style="background:#e3a7c7"></span><span style="background:#f5eef4"></span></div>
            <div class="theme-swatch-name">Burgundy Soft</div>
          </div>
          <div class="theme-swatch" onclick="applyTheme('white')" data-theme="white">
            <div class="theme-swatch-bar"><span style="background:#f4f6fb"></span><span style="background:#2f5bd2"></span><span style="background:#96b3ff"></span><span style="background:#202735"></span></div>
            <div class="theme-swatch-name">Ivory Modern</div>
          </div>
        </div>
      </div>

      <hr class="ap-sep"/>

      <!-- COLORI CUSTOM -->
      <div class="ap-grp">
        <div class="ap-sec">Colori personalizzati</div>
        <div class="color-row">
          <div class="color-field">
            <label>Colore Accento</label>
            <div class="color-wrap">
              <input type="color" id="c-accent" oninput="liveColor('accent',this.value)"/>
              <input type="text" id="c-accent-hex" placeholder="#5b7cfa" oninput="syncColorFromHex('accent',this.value)"/>
            </div>
          </div>
          <div class="color-field">
            <label>Sfondo</label>
            <div class="color-wrap">
              <input type="color" id="c-bg" oninput="liveColor('bg',this.value)"/>
              <input type="text" id="c-bg-hex" placeholder="#0d111a" oninput="syncColorFromHex('bg',this.value)"/>
            </div>
          </div>
          <div class="color-field">
            <label>Surface (card)</label>
            <div class="color-wrap">
              <input type="color" id="c-surface" oninput="liveColor('surface',this.value)"/>
              <input type="text" id="c-surface-hex" placeholder="#151b27" oninput="syncColorFromHex('surface',this.value)"/>
            </div>
          </div>
          <div class="color-field">
            <label>Testo principale</label>
            <div class="color-wrap">
              <input type="color" id="c-text" oninput="liveColor('text',this.value)"/>
              <input type="text" id="c-text-hex" placeholder="#eef2ff" oninput="syncColorFromHex('text',this.value)"/>
            </div>
          </div>
          <div class="color-field">
            <label>Bordi</label>
            <div class="color-wrap">
              <input type="color" id="c-border" oninput="liveColor('border',this.value)"/>
              <input type="text" id="c-border-hex" placeholder="#273147" oninput="syncColorFromHex('border',this.value)"/>
            </div>
          </div>
          <div class="color-field">
            <label>Testo secondario</label>
            <div class="color-wrap">
              <input type="color" id="c-muted" oninput="liveColor('muted',this.value)"/>
              <input type="text" id="c-muted-hex" placeholder="#7c89a6" oninput="syncColorFromHex('muted',this.value)"/>
            </div>
          </div>
        </div>
      </div>

      <hr class="ap-sep"/>

      <!-- TIPOGRAFIA -->
      <div class="ap-grp">
        <div class="ap-sec">Tipografia</div>
        <div class="ap-f" style="margin-bottom:18px;"><label>Stile font — scegli la combinazione</label></div>
        <div class="font-options" id="fontOptions">
          <div class="font-opt selected" onclick="applyFont('tech',this)" data-font="tech">
            <div class="font-opt-name" style="font-family:'Bebas Neue',cursive;font-size:28px;letter-spacing:.05em;">TECH</div>
            <div class="font-opt-label">Bebas + IBM Mono</div>
          </div>
          <div class="font-opt" onclick="applyFont('editorial',this)" data-font="editorial">
            <div class="font-opt-name" style="font-family:'Playfair Display',serif;font-style:italic;font-size:24px;">Editorial</div>
            <div class="font-opt-label">Playfair + DM Sans</div>
          </div>
          <div class="font-opt" onclick="applyFont('modern',this)" data-font="modern">
            <div class="font-opt-name" style="font-family:'Syne',sans-serif;font-weight:800;font-size:22px;letter-spacing:-.02em;">MODERN</div>
            <div class="font-opt-label">Syne + Space Grotesk</div>
          </div>
          <div class="font-opt" onclick="applyFont('mono',this)" data-font="mono">
            <div class="font-opt-name" style="font-family:'IBM Plex Mono',monospace;font-size:18px;letter-spacing:.1em;">MONO_</div>
            <div class="font-opt-label">IBM Mono + IBM Mono</div>
          </div>
        </div>
      </div>

      <hr class="ap-sep"/>

      <!-- EFFETTI -->
      <div class="ap-grp">
        <div class="ap-sec">Effetti visivi</div>

        <div class="toggle-row">
          <span class="toggle-label">Griglia di sfondo</span>
          <label class="toggle"><input type="checkbox" id="fx-grid" checked onchange="fxToggle('grid',this.checked)"/><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <span class="toggle-label">Effetto scanlines</span>
          <label class="toggle"><input type="checkbox" id="fx-scan" checked onchange="fxToggle('scan',this.checked)"/><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <span class="toggle-label">Effetto glitch sul nome</span>
          <label class="toggle"><input type="checkbox" id="fx-glitch" checked onchange="fxToggle('glitch',this.checked)"/><div class="toggle-track"></div></label>
        </div>
        <div class="toggle-row">
          <span class="toggle-label">Marquee animata</span>
          <label class="toggle"><input type="checkbox" id="fx-marquee" checked onchange="fxToggle('marquee',this.checked)"/><div class="toggle-track"></div></label>
        </div>

        <div class="slider-row" style="margin-top:16px;">
          <label>Intensità scanlines <span id="scanVal">8%</span></label>
          <input type="range" id="sl-scan" min="0" max="20" value="8" oninput="sliderScan(this.value)"/>
        </div>
        <div class="slider-row">
          <label>Dimensione griglia <span id="gridVal">60px</span></label>
          <input type="range" id="sl-grid" min="20" max="120" value="60" oninput="sliderGrid(this.value)"/>
        </div>
      </div>

    </div><!-- /t-design -->

  </div><!-- /ap-body -->

  <div class="ap-foot">
    <button class="ap-save" id="apSave" onclick="saveAll()">Salva tutte le modifiche</button>
    <button class="ap-out" onclick="logout()">Esci</button>
  </div>
</div>

<!-- -------------------------- NAV -------------------------- -->
<nav>
  <a class="nav-logo" href="#" onclick="showPage('home')"><img class="nav-logo-icon" src="favicon-32x32.png" alt="Logo"/>veronicabaccarin</a>
  <button class="nav-mobile-toggle" id="navMobileToggle" aria-expanded="false" onclick="toggleMobileNav()">
    <span id="navMobileLabel">Home</span><span class="nav-mobile-caret">&darr;</span>
  </button>
  <ul class="nav-links" id="navLinks">
    <li><a href="#" onclick="showPage('home')" id="nav-home" class="active">Home</a></li>
    <li><a href="#" onclick="showPage('about')" id="nav-about">About</a></li>
    <li><a href="#" onclick="showPage('portfolio')" id="nav-portfolio">Portfolio</a></li>
    <li><a href="#" onclick="showPage('contact')" id="nav-contact">Contatti</a></li>
  </ul>
  <div class="nav-status"><div class="status-dot"></div><span id="navStatusTxt">Disponibile per progetti</span></div>
</nav>
<div class="quick-style-dock" id="quickStyleDock" aria-label="Controlli estetica rapida">
  <button type="button" class="quick-style-btn" id="modeToggleBtn" onclick="toggleVisualMode()">
    <span class="quick-style-key">Mode</span><span class="quick-style-val" id="modeToggleLabel">Light</span>
  </button>
  <button type="button" class="quick-style-btn" id="themeToggleBtn" onclick="cyclePublicTheme()">
    <span class="quick-style-key">Theme</span><span class="quick-style-val" id="themeToggleLabel">Ivory</span>
  </button>
  <button type="button" class="quick-style-btn" id="lookToggleBtn" onclick="cyclePublicLook()">
    <span class="quick-style-key">Look</span><span class="quick-style-val" id="lookToggleLabel">Luxury</span>
  </button>
</div>

<!-- -------------------------- HOME -------------------------- -->
<div id="home" class="page active fade-in" style="padding-top:84px;">
  <div class="home-hero">
    <div class="hero-left">
      <div class="hero-meta" data-key="homeTag">GRAPHIC DESIGN · LOGO DESIGNER · BRANDING</div>
      <h1 class="hero-name">VERONICA<br><span class="glitch" data-text="BACCARIN">BACCARIN</span></h1>
      <div class="hero-role">Graphic Designer</div>
      <p class="hero-desc" data-key="homeDesc">Creo identità visive e loghi che raccontano storie. Ogni segno è una scelta, ogni colore un'emozione.</p>
      <div class="hero-cta-row">
        <a class="cta-primary" href="#" onclick="showPage('portfolio')"><span data-key="homeCta">Guarda i lavori</span> &rsaquo;</a>
        <a class="cta-secondary" href="#" onclick="showPage('contact')">Parliamoci</a>
      </div>
    </div>
    <div class="hero-right">
      <div class="hero-right-logo-wrap"><img class="hero-right-logo" src="favicon-192x192.png" alt="Logo"/></div>
      <div class="stat-block">
        <div class="stat-num" data-key="stat1">4+</div>
        <div class="stat-label">Anni di esperienza</div>
        <div class="stat-bar"><div class="stat-bar-fill" data-pct="70"></div></div>
      </div>
      <div class="stat-block">
        <div class="stat-num" data-key="stat2">10+</div>
        <div class="stat-label">Progetti completati</div>
        <div class="stat-bar"><div class="stat-bar-fill" data-pct="88"></div></div>
      </div>
    </div>
  </div>
  <div class="marquee-band" id="marqueeEl">
    <div class="marquee-track">
      <span class="hl">VERONICA BACCARIN</span><span>·</span><span>GRAPHIC DESIGN</span><span>·</span><span class="hl">2D ILLUSTRATION</span><span>·</span><span>BRANDING IDENTITY</span><span>·</span><span>EDITORIAL DESIGN</span><span>·</span><span class="hl">LOGO DESIGN</span><span>·</span><span>PACKAGING</span><span>·</span><span>TYPOGRAPHY</span><span>·</span>
      <span class="hl">VERONICA BACCARIN</span><span>·</span><span>GRAPHIC DESIGN</span><span>·</span><span class="hl">2D ILLUSTRATION</span><span>·</span><span>BRANDING IDENTITY</span><span>·</span><span>EDITORIAL DESIGN</span><span>·</span><span class="hl">LOGO DESIGN</span><span>·</span><span>PACKAGING</span><span>·</span><span>TYPOGRAPHY</span><span>·</span>
    </div>
  </div>

  <section class="home-signature" aria-labelledby="signatureTitle">
    <div class="signature-shell">
      <div class="signature-head">
        <div>
          <div class="signature-kicker">Metodo operativo</div>
          <h2 class="signature-title" id="signatureTitle">Design minimal, anima futuristica, risultato professionale.</h2>
        </div>
        <p class="signature-note">Ogni progetto parte da un sistema: analisi, direzione e applicazione reale. Cosi il brand resta riconoscibile nel tempo e su ogni formato.</p>
      </div>
      <div class="signature-grid">
        <article class="signature-card">
          <div class="signature-step">Step 01</div>
          <h3>Audit strategico</h3>
          <p>Definisco contesto, target e posizionamento per evitare scelte estetiche casuali.</p>
          <ul class="signature-points">
            <li>Brief guidato</li>
            <li>Analisi competitor</li>
            <li>Tono visivo</li>
          </ul>
        </article>
        <article class="signature-card">
          <div class="signature-step">Step 02</div>
          <h3>Sistema visivo</h3>
          <p>Costruisco logo, palette e tipografia con regole chiare e una forte personalita.</p>
          <ul class="signature-points">
            <li>Logo design</li>
            <li>Palette cromatica</li>
            <li>Gerarchie tipografiche</li>
          </ul>
        </article>
        <article class="signature-card">
          <div class="signature-step">Step 03</div>
          <h3>Rollout operativo</h3>
          <p>Adatto il brand ai touchpoint reali: social, stampa, presentazioni e materiali vendita.</p>
          <ul class="signature-points">
            <li>Template social</li>
            <li>Asset stampa</li>
            <li>Mini guidelines</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <section class="home-manifesto" aria-labelledby="manifestoTitle">
    <div class="manifesto-wrap">
      <div class="manifesto-grid">
        <article class="manifesto-quote">
          <div class="manifesto-label">Manifesto studio</div>
          <h3 id="manifestoTitle">Un brand forte non urla. Si riconosce.</h3>
          <p class="manifesto-lead">Progetto identita visive contemporanee con un equilibrio tra pulizia formale e carattere. Il focus non e solo avere un logo bello, ma un sistema che regga nel tempo.</p>
        </article>
        <div class="manifesto-pillars">
          <article class="manifesto-item">
            <strong>Direzione chiara</strong>
            <p>Ogni scelta viene motivata e collegata a un obiettivo comunicativo concreto.</p>
          </article>
          <article class="manifesto-item">
            <strong>Estetica coerente</strong>
            <p>Dal dettaglio tipografico al layout completo, tutto parla la stessa lingua visiva.</p>
          </article>
          <article class="manifesto-item">
            <strong>Output pronti all'uso</strong>
            <p>Consegno materiali operativi per web e stampa, subito utilizzabili dal cliente.</p>
          </article>
        </div>
      </div>
    </div>
  </section>

  <section class="home-case-study" aria-labelledby="caseStudyTitle">
    <div class="case-study-wrap">
      <div class="case-main">
        <div class="case-kicker">Case study in evidenza</div>
        <h3 class="case-title" id="caseStudyTitle">L'Abete: rebranding + renaming da marchio storico a identita contemporanea.</h3>
        <p class="case-meta">Confronto tra il before reale del marchio originario "Mastroianni L'antica Ebanisteria" e l'after finale con il nuovo naming "L'Abete" applicato su insegna.</p>
        <div class="case-stage" style="--split:52%;">
          <img class="case-img" src="mockup_1_insegna_labete-sm.jpg" alt="After del rebranding e renaming L'Abete applicato su insegna"/>
          <img class="case-img case-img-after" src="26a5b1e5-bf71-51fb-a1a4-1e01e9f5be64-optimized.jpg" alt="Before reale del marchio Mastroianni L'antica Ebanisteria"/>
          <div class="case-divider" aria-hidden="true"></div>
          <span class="case-label before">Before reale</span>
          <span class="case-label after">After L'Abete</span>
          <input class="case-slider" type="range" min="0" max="100" value="52" aria-label="Confronto before after L'Abete" oninput="this.parentElement.style.setProperty('--split',this.value + '%')"/>
        </div>
      </div>
      <aside class="case-side">
        <article class="case-side-card">
          <strong>Obiettivo</strong>
          <p>Riposizionare il laboratorio con un'identita piu attuale e chiara, introducendo anche un renaming coerente con il tono artigianale premium.</p>
        </article>
        <article class="case-side-card">
          <strong>Intervento</strong>
          <ul class="case-list">
            <li>Renaming: da "Mastroianni L'antica Ebanisteria" a "L'Abete"</li>
            <li>Ridisegno completo del simbolo abete</li>
            <li>Wordmark pulito con gerarchie piu chiare</li>
            <li>Palette legno + antracite per tono premium</li>
            <li>Applicazione reale su insegna e materiali</li>
          </ul>
        </article>
        <article class="case-side-card">
          <strong>Risultato</strong>
          <p>Naming e identita lavorano insieme: il brand risulta piu memorabile e professionale gia dal primo touchpoint fisico.</p>
        </article>
      </aside>
    </div>
  </section>
</div>

<!-- -------------------------- ABOUT -------------------------- -->
<div id="about" class="page" style="padding-top:84px;">
  <div class="section-intro">
    <div class="section-tag">Profile</div>
    <div class="section-num">ABOUT<span>01 / Profilo</span></div>
  </div>
  <div class="about-grid">
    <div class="about-img-col">
      <div class="about-img-frame" id="aboutPortraitFrame">
        <div class="img-corner tl"></div><div class="img-corner br"></div>
        <svg id="aboutSvg" viewBox="0 0 420 560" fill="none" style="display:none;">
          <rect width="420" height="560" fill="#151b27"/>
          <defs><pattern id="pg" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M40 0L0 0 0 40" fill="none" stroke="#273147" stroke-width="1"/></pattern></defs>
          <rect width="420" height="560" fill="url(#pg)"/>
          <circle cx="210" cy="155" r="80" fill="#1c2330" stroke="#5b7cfa" stroke-width="1" opacity=".32"/>
          <circle cx="210" cy="155" r="55" fill="#273147"/>
          <circle cx="192" cy="145" r="7" fill="#5b7cfa" opacity=".82"/>
          <circle cx="228" cy="145" r="7" fill="#5b7cfa" opacity=".82"/>
          <path d="M 196 170 Q 210 182 224 170" stroke="#5b7cfa" stroke-width="2" fill="none" opacity=".62"/>
          <path d="M 130 130 Q 140 60 210 70 Q 280 60 290 130" fill="#0f141e" stroke="#5b7cfa" stroke-width="1" opacity=".44"/>
          <path d="M 60 460 Q 80 320 140 295 L 210 330 L 280 295 Q 340 320 360 460 Z" fill="#1c2330"/>
          <path d="M 60 460 Q 80 320 140 295 L 210 330 L 280 295 Q 340 320 360 460" fill="none" stroke="#5b7cfa" stroke-width="1" opacity=".34"/>
          <path d="M 20 20 L 20 50 M 20 20 L 50 20" stroke="#5b7cfa" stroke-width="2" opacity=".62"/>
          <path d="M 400 20 L 370 20 M 400 20 L 400 50" stroke="#5b7cfa" stroke-width="2" opacity=".62"/>
          <path d="M 20 540 L 20 510 M 20 540 L 50 540" stroke="#5b7cfa" stroke-width="2" opacity=".62"/>
          <path d="M 400 540 L 370 540 M 400 540 L 400 510" stroke="#5b7cfa" stroke-width="2" opacity=".62"/>
          <line x1="0" y1="280" x2="420" y2="280" stroke="#5b7cfa" stroke-width=".5" opacity=".2"/>
          <text x="20" y="550" font-family="monospace" font-size="9" fill="#5b7cfa" opacity=".45" letter-spacing="2">VB.PORTFOLIO — 2025</text>
        </svg>
        <img id="aboutImgEl" alt="Veronica Baccarin" src="about-photo-optimized.jpg" loading="lazy" decoding="async" fetchpriority="low" width="420" height="560" style="display:block;width:100%;height:100%;object-fit:cover;position:absolute;inset:0;"/>
      </div>
    </div>
    <div class="about-content-col">
      <div class="about-label">// chi sono</div>
      <p class="about-bio-text" id="aboutBioEl">
        Sono Veronica, una <em>graphic designer e logo designer</em> con la passione per le forme, i colori e le storie visive. Da anni lavoro nel mondo della grafica 2D, trasformando idee in immagini che comunicano, emozionano e restano impresse.<br><br>
        Ogni progetto per me è un viaggio: parto sempre dall'ascolto, perché capire davvero chi c'è dall'altra parte è il primo passo per creare qualcosa di autentico e duraturo.
      </p>
      <div class="about-label" style="margin-bottom:14px;">// stack & tools</div>
      <div class="skills-grid" id="skillsDisplay"></div>
      <div class="about-specs">
        <div class="spec-item"><div class="spec-key">Basata in</div><div class="spec-val">Italia</div></div>
        <div class="spec-item"><div class="spec-key">Disponibilità</div><div class="spec-val">Freelance e a contratto</div></div>
        <div class="spec-item"><div class="spec-key">Specialità</div><div class="spec-val">2D Design</div></div>
        <div class="spec-item"><div class="spec-key">Modalità</div><div class="spec-val">Remote OK</div></div>
      </div>
    </div>
  </div>
</div>

<!-- -------------------------- PORTFOLIO -------------------------- -->
<div id="portfolio" class="page" style="padding-top:84px;">
  <div class="section-intro">
    <div class="section-tag">Lavori</div>
    <div class="section-num">WORKS<span>02 / Portfolio</span></div>
  </div>
  <p class="port-intro" data-key="portfolioIntro">Una selezione dei miei lavori più significativi — brand identity, loghi e progetti editoriali.</p>
  <div class="filter-strip">
    <button class="filter-btn active" onclick="filterProj('all',this)">Tutti</button>
    <button class="filter-btn" onclick="filterProj('brand',this)">Brand Identity</button>
    <button class="filter-btn" onclick="filterProj('illustration',this)">Loghi</button>
    <button class="filter-btn" onclick="filterProj('editorial',this)">Editoriale</button>
  </div>
  <div class="portfolio-grid" id="projectGrid"></div>
</div>

<!-- -------------------------- CONTACT -------------------------- -->
<div id="contact" class="page" style="padding-top:84px;">
  <div class="section-intro">
    <div class="section-tag">Contatti</div>
    <div class="section-num">CONTACT<span>03 / Parliamoci</span></div>
  </div>
  <div class="contact-layout">
    <div class="contact-left">
      <div class="contact-headline">LAVORIAMO<br><em>INSIEME?</em></div>
      <p class="contact-sub" data-key="contactSub">Hai un progetto in mente? Sono sempre felice di ascoltare nuove idee.</p>
      <div class="contact-links">
        <a class="contact-row" id="linkEmail" href="#"><span class="contact-row-label">Email</span><span class="contact-row-val" data-key="contactEmail">baccavero@gmail.com</span><span class="contact-row-arrow">&rarr;</span></a>
        <a class="contact-row" id="linkIg" href="#"><span class="contact-row-label">Instagram</span><span class="contact-row-val" data-key="contactIg">@veronica.baccarin</span><span class="contact-row-arrow">&rarr;</span></a>
<a class="contact-row" id="linkLi" href="#"><span class="contact-row-label">LinkedIn</span><span class="contact-row-val" data-key="contactLi">Veronica Baccarin</span><span class="contact-row-arrow">&rarr;</span></a>
      </div>
    </div>
    <div class="contact-right">
      <form class="contact-form" onsubmit="cfSubmit(event)">
        <div class="cf-field"><label>Nome</label><input type="text" name="name" placeholder="Il tuo nome" required/></div>
        <div class="cf-field"><label>Email</label><input type="email" name="email" placeholder="email@esempio.com" required/></div>
        <div class="cf-field"><label>Tipo di progetto</label><input type="text" name="projectType" placeholder="Brand, illustrazione, ..."/></div>
        <div class="cf-field"><label>Messaggio</label><textarea name="message" placeholder="Raccontami del progetto..." required></textarea></div>
        <button class="cf-submit" type="submit">&rarr; Invia messaggio</button>
      </form>
    </div>
  </div>
</div>

<footer class="site-footer">
  <div class="foot-copy">© 2025 Veronica Baccarin</div>
  <div class="foot-links">
    <a href="#" class="foot-link" onclick="openTermsModal(event)">Termini e condizioni</a>
    <a href="#" class="foot-link" onclick="openCookiePolicyModal(event)">Cookie policy</a>
  </div>
  <div class="foot-made">Built with passion — <em>2D Design</em></div>
</footer>
<div class="site-disclaimer">Disclaimer: tutti i progetti presentati sono stati realizzati di mia iniziativa e non su richiesta diretta del cliente.</div>

<div id="toast"></div>
<div id="privacyBanner" class="privacy-banner" role="dialog" aria-live="polite" aria-label="Privacy policy">
  <div class="privacy-title">Privacy Policy</div>
  <div class="privacy-text">Questo sito mostra portfolio e contatti professionali. I dati inseriti nel form vengono usati solo per rispondere alla richiesta. Continuando dichiari di aver letto l'informativa privacy e i <a href="#" class="legal-link" onclick="openTermsModal(event)">termini e condizioni</a>.</div>
  <div class="privacy-actions">
    <button type="button" class="pb-btn primary" onclick="acceptPrivacyBanner()">Ho letto</button>
    <button type="button" class="pb-btn" onclick="closePrivacyBanner()">Chiudi</button>
  </div>
</div>
<div id="cookieBanner" class="cookie-banner" role="dialog" aria-live="polite" aria-label="Cookie banner">
  <p class="cookie-text">Questo sito usa cookie tecnici/local storage per ricordare preferenze e contenuti del portfolio. Puoi accettare tutti i cookie o solo quelli essenziali. Leggi la <a href="#" class="legal-link" onclick="openCookiePolicyModal(event)">cookie policy</a>.</p>
  <div class="cookie-actions">
    <button type="button" class="pb-btn primary" onclick="acceptAllCookies()">Accetta tutti</button>
    <button type="button" class="pb-btn" onclick="acceptEssentialCookies()">Solo essenziali</button>
  </div>
</div>
<div id="termsModal" class="legal-modal" role="dialog" aria-modal="true" aria-label="Termini e condizioni" onclick="closeTermsModal()">
  <div class="legal-card" onclick="event.stopPropagation()">
    <div class="legal-head">
      <div class="legal-title">Termini e Condizioni</div>
      <button type="button" class="legal-close" aria-label="Chiudi termini e condizioni" onclick="closeTermsModal()">×</button>
    </div>
    <div class="legal-content">
      <h3>1. Oggetto del sito</h3>
      <p>Questo sito ha finalità informativa e promozionale e presenta il portfolio professionale di servizi di graphic design, branding, logo design e progettazione editoriale.</p>
      <h3>2. Proprietà intellettuale</h3>
      <p>Tutti i contenuti presenti sul sito, inclusi layout, grafiche, loghi, testi, immagini, mockup e progetti, sono protetti da diritto d'autore e rimangono di proprietà dell'autrice o dei rispettivi aventi diritto. È vietata la copia, riproduzione o distribuzione, totale o parziale, senza autorizzazione scritta.</p>
      <h3>3. Uso consentito</h3>
      <p>È consentita la consultazione del sito per fini personali e professionali leciti. Non è consentito utilizzare contenuti del portfolio per addestramento, rivendita, pubblicazione su terze piattaforme o uso commerciale non autorizzato.</p>
      <h3>4. Progetti mostrati</h3>
      <p>I lavori esposti possono includere concept, varianti, mockup o materiali adattati per presentazione. Le applicazioni reali possono differire per supporti, condizioni di stampa o aggiornamenti richiesti dal cliente.</p>
      <h3>5. Contatti e richieste</h3>
      <p>Le richieste inviate tramite form/email non costituiscono automaticamente accettazione d'incarico. Eventuali collaborazioni vengono definite solo dopo accordo esplicito su obiettivi, tempi, costi e condizioni operative.</p>
      <h3>6. Limitazione di responsabilità</h3>
      <p>Il sito è fornito "così com'è". Pur con la massima cura, non è garantita l'assenza di errori, interruzioni o incompatibilità tecniche. L'autrice non risponde di danni indiretti derivanti dall'uso del sito o dall'affidamento sui contenuti pubblicati.</p>
      <h3>7. Link esterni</h3>
      <p>Il sito può contenere collegamenti a piattaforme esterne (es. social). Tali siti sono gestiti da terzi e soggetti alle loro policy; l'autrice non è responsabile dei loro contenuti o trattamenti dati.</p>
      <h3>8. Privacy e cookie</h3>
      <p>L'utilizzo del sito è soggetto all'informativa privacy e alle preferenze cookie mostrate nei banner dedicati.</p>
      <h3>9. Aggiornamenti</h3>
      <p>I presenti termini possono essere aggiornati in qualsiasi momento per esigenze tecniche, legali o professionali. La versione pubblicata sul sito è quella vigente.</p>
      <h3>10. Legge applicabile</h3>
      <p>I termini sono regolati dalla normativa italiana. Per eventuali controversie è competente il foro previsto dalla legge applicabile.</p>
    </div>
  </div>
</div>
<div id="cookiePolicyModal" class="legal-modal" role="dialog" aria-modal="true" aria-label="Cookie policy" onclick="closeCookiePolicyModal()">
  <div class="legal-card" onclick="event.stopPropagation()">
    <div class="legal-head">
      <div class="legal-title">Cookie Policy</div>
      <button type="button" class="legal-close" aria-label="Chiudi cookie policy" onclick="closeCookiePolicyModal()">×</button>
    </div>
    <div class="legal-content">
      <h3>1. Cosa sono i cookie</h3>
      <p>I cookie sono piccoli file di testo salvati nel browser per migliorare l'esperienza di navigazione. In questo sito vengono usati anche meccanismi equivalenti come il local storage.</p>
      <h3>2. Cookie usati su questo sito</h3>
      <ul>
        <li>Cookie/Storage tecnici: necessari al funzionamento del sito e dell'interfaccia.</li>
        <li>Cookie/Storage di preferenza: memorizzano scelte utente (es. banner privacy/cookie, contenuti admin salvati localmente).</li>
      </ul>
      <p>Al momento non vengono utilizzati cookie di profilazione pubblicitaria di terze parti per tracciamento marketing avanzato.</p>
      <h3>3. Finalità</h3>
      <p>I dati salvati servono a mantenere una navigazione coerente, ricordare consensi e preferenze e migliorare usabilità/performance del portfolio.</p>
      <h3>4. Durata</h3>
      <p>I cookie/local storage possono rimanere salvati fino alla cancellazione manuale da parte dell'utente o fino a nuove versioni del sito che ne aggiornino le chiavi.</p>
      <h3>5. Base giuridica</h3>
      <p>I cookie tecnici sono trattati per legittimo interesse e necessità funzionale del sito; eventuali cookie non essenziali vengono gestiti tramite consenso.</p>
      <h3>6. Come gestire o revocare il consenso</h3>
      <p>Puoi in qualsiasi momento:</p>
      <ul>
        <li>modificare le preferenze cookie dal banner quando disponibile;</li>
        <li>cancellare cookie e dati di sito dalle impostazioni del browser;</li>
        <li>bloccare i cookie direttamente nel browser (alcune funzioni potrebbero non funzionare correttamente).</li>
      </ul>
      <h3>7. Titolare del trattamento</h3>
      <p>Il titolare del trattamento è l'autrice del sito portfolio. Per richieste relative a privacy e cookie puoi usare i contatti presenti nella sezione Contatti.</p>
      <h3>8. Aggiornamenti della policy</h3>
      <p>La presente Cookie Policy può essere aggiornata per adeguamenti normativi o tecnici. La versione pubblicata su questa pagina è quella attualmente valida.</p>
    </div>
  </div>
</div>
<div id="projLightbox" class="proj-lightbox" onclick="closeProjLightbox()" aria-hidden="true">
  <button type="button" class="proj-lightbox-close" aria-label="Chiudi anteprima" onclick="event.stopPropagation();closeProjLightbox()">×</button>
  <div class="proj-lightbox-stage" onclick="event.stopPropagation()">
    <button type="button" class="proj-lightbox-nav prev" id="projLbPrev" aria-label="Immagine precedente" onclick="stepProjLightbox(-1)">‹</button>
    <img id="projLightboxImg" class="proj-lightbox-img" alt="Anteprima progetto"/>
    <button type="button" class="proj-lightbox-nav next" id="projLbNext" aria-label="Immagine successiva" onclick="stepProjLightbox(1)">›</button>
  </div>
  <div class="proj-lightbox-meta" onclick="event.stopPropagation()">
    <div class="proj-lightbox-top">
      <div class="proj-lightbox-title" id="projLightboxTitle"></div>
      <div>
        <div class="proj-lightbox-cat" id="projLightboxCat"></div>
        <div class="proj-lightbox-count" id="projLightboxCount" aria-live="polite"></div>
      </div>
    </div>
    <p class="proj-lightbox-desc" id="projLightboxDesc"></p>
    <div class="proj-lightbox-hint">Premi ESC o clicca fuori per chiudere</div>
    <div class="proj-lightbox-thumbs" id="projLightboxThumbs"></div>
  </div>
</div>

<!-- ----------------------------------------------------------
     JAVASCRIPT
---------------------------------------------------------- -->
<script>
const COLLAGE_STYLE='minimal'; // 'bold' | 'minimal'
/* --- ADMIN LOGIN (hashed) --- */
const ADMIN_LOGIN={
  salt:'vb_portfolio_2025!static_salt',
  hash:'f818ea0d7a9a4d1ffa5af98c4ddb39bdb2c4eebda496c2f3bf4cf06158109a23', // sha256(salt|username:password)
  maxAttempts:5,
  blockMs:5*60*1000
};

async function sha256Hex(str){
  const buf = new TextEncoder().encode(str);
  const digest = await crypto.subtle.digest('SHA-256', buf);
  return [...new Uint8Array(digest)].map(b=>b.toString(16).padStart(2,'0')).join('');
}

function getLoginGuard(){
  try{return JSON.parse(sessionStorage.getItem('vb_login_guard')||'{}');}catch(e){return {};}}
function setLoginGuard(v){sessionStorage.setItem('vb_login_guard',JSON.stringify(v));}


/* --- SVG PLACEHOLDERS --- */
const SVG_P={
  p1:`<svg viewBox="0 0 800 350" fill="none"><rect width="800" height="350" fill="#06070a"/><defs><pattern id="gp1" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M40 0L0 0 0 40" fill="none" stroke="#1e2230" stroke-width="1"/></pattern></defs><rect width="800" height="350" fill="url(#gp1)"/><circle cx="400" cy="175" r="120" stroke="#b7ff00" stroke-width="1" fill="none" opacity=".4"/><circle cx="400" cy="175" r="80" fill="#b7ff00" opacity=".07"/><text x="400" y="162" text-anchor="middle" font-family="serif" font-size="72" font-weight="300" fill="#eef0f5" opacity=".9">Folia</text><text x="400" y="196" text-anchor="middle" font-family="monospace" font-size="11" fill="#b7ff00" letter-spacing="10">BOTANICALS</text><line x1="0" y1="175" x2="800" y2="175" stroke="#b7ff00" stroke-width=".5" opacity=".15"/><line x1="400" y1="0" x2="400" y2="350" stroke="#b7ff00" stroke-width=".5" opacity=".15"/></svg>`,
  p2:`<svg viewBox="0 0 380 500" fill="none"><rect width="380" height="500" fill="#0a0c10"/><defs><linearGradient id="sk2" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#1a2a3a"/><stop offset="100%" stop-color="#0a0c10"/></linearGradient></defs><rect width="380" height="300" fill="url(#sk2)"/><circle cx="190" cy="150" r="55" fill="#3af0ff" opacity=".2"/><circle cx="190" cy="150" r="38" fill="#3af0ff" opacity=".4"/><path d="M 0 320 L 100 200 L 200 270 L 290 170 L 380 240 L 380 500 L 0 500 Z" fill="#1e2230"/><path d="M 0 360 L 80 270 L 150 315 L 240 240 L 320 295 L 380 270 L 380 500 L 0 500 Z" fill="#131620"/><circle cx="50" cy="80" r="2" fill="#3af0ff" opacity=".8"/><circle cx="300" cy="60" r="2" fill="#b7ff00" opacity=".7"/></svg>`,
  p3:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#06070a"/><rect x="20" y="20" width="160" height="245" fill="#0d0f14" stroke="#b7ff00" stroke-width="1" opacity=".3"/><rect x="200" y="20" width="160" height="118" fill="#b7ff00" opacity=".1"/><rect x="200" y="148" width="76" height="117" fill="#3af0ff" opacity=".08"/><rect x="284" y="148" width="76" height="117" fill="#b7ff00" opacity=".06"/><text x="36" y="135" font-family="serif" font-size="42" fill="#eef0f5" opacity=".9">Aria</text><text x="36" y="158" font-family="monospace" font-size="8" fill="#b7ff00" opacity=".7" letter-spacing="4">MAGAZINE</text></svg>`,
  p4:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#060d08"/><circle cx="190" cy="142" r="100" stroke="#b7ff00" stroke-width="1" fill="none" opacity=".3"/><circle cx="190" cy="142" r="70" stroke="#b7ff00" stroke-width=".5" fill="none" opacity=".2"/><text x="190" y="130" text-anchor="middle" font-family="serif" font-size="30" font-weight="300" fill="#b7ff00">Terra</text><text x="190" y="152" text-anchor="middle" font-family="serif" font-size="15" font-style="italic" fill="#b7ff00" opacity=".6">bistrot</text><text x="190" y="172" text-anchor="middle" font-family="monospace" font-size="7" fill="#4a5268" letter-spacing="6">EST. 2022</text></svg>`,
  p5:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#08090c"/><line x1="190" y1="270" x2="190" y2="50" stroke="#3af0ff" stroke-width="2"/><path d="M 190 190 Q 140 165 128 125 Q 158 140 190 168 Z" fill="#b7ff00" opacity=".7"/><path d="M 190 190 Q 242 165 252 125 Q 222 140 190 168 Z" fill="#b7ff00" opacity=".5"/><circle cx="190" cy="48" r="24" fill="#b7ff00" opacity=".6"/><circle cx="190" cy="48" r="10" fill="#06070a"/></svg>`,
  p6:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#07080b"/><line x1="0" y1="0" x2="0" y2="285" stroke="#b7ff00" stroke-width="3"/><line x1="380" y1="0" x2="380" y2="285" stroke="#b7ff00" stroke-width="3"/><polygon points="190,50 248,128 190,206 132,128" stroke="#eef0f5" stroke-width="1.5" fill="none" opacity=".6"/><circle cx="190" cy="130" r="26" fill="#b7ff00" opacity=".1" stroke="#b7ff00" stroke-width="1"/><text x="190" y="134" text-anchor="middle" font-family="monospace" font-size="13" fill="#b7ff00">LUX</text></svg>`,
  p7:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#07080b"/><rect x="28" y="28" width="324" height="229" stroke="#4a5268" stroke-dasharray="8 8" fill="none"/><line x1="190" y1="104" x2="190" y2="182" stroke="#b7ff00" stroke-width="2"/><line x1="151" y1="143" x2="229" y2="143" stroke="#b7ff00" stroke-width="2"/><text x="190" y="210" text-anchor="middle" font-family="monospace" font-size="11" fill="#9aa0b8" letter-spacing="2">NUOVO LAVORO</text></svg>`,
  p8:`<svg viewBox="0 0 380 285" fill="none"><rect width="380" height="285" fill="#07080b"/><rect x="28" y="28" width="324" height="229" stroke="#4a5268" stroke-dasharray="8 8" fill="none"/><line x1="190" y1="104" x2="190" y2="182" stroke="#b7ff00" stroke-width="2"/><line x1="151" y1="143" x2="229" y2="143" stroke="#b7ff00" stroke-width="2"/><text x="190" y="210" text-anchor="middle" font-family="monospace" font-size="11" fill="#9aa0b8" letter-spacing="2">NUOVO LAVORO</text></svg>`
};

/* --- THEME PRESETS --- */
const THEMES={
  lime:  {accent:'#5b7cfa',bg:'#0d111a',surface:'#151b27',text:'#eef2ff',border:'#273147',muted:'#7c89a6',border2:'#34405b'},
  violet:{accent:'#8e7dff',bg:'#110f19',surface:'#1a1627',text:'#f2eeff',border:'#2e2742',muted:'#8d82ab',border2:'#3d3458'},
  coral: {accent:'#c97a4a',bg:'#171311',surface:'#221b18',text:'#f4efea',border:'#3a2d25',muted:'#9c8576',border2:'#4a3a31'},
  ice:   {accent:'#3bb8a6',bg:'#0d1516',surface:'#142021',text:'#e8f3f2',border:'#294142',muted:'#7d9896',border2:'#355151'},
  rose:  {accent:'#c35b8f',bg:'#161218',surface:'#211a24',text:'#f5eef4',border:'#3a2c3d',muted:'#9c849a',border2:'#4a3950'},
  white: {accent:'#2f5bd2',bg:'#f4f6fb',surface:'#e8ecf4',text:'#202735',border:'#c9d1e0',muted:'#667085',border2:'#b6c1d5'}
};

/* --- FONT PRESETS --- */
const FONTS={
  tech:     {display:"'Bebas Neue',cursive",   body:"'IBM Plex Mono',monospace",  ui:"'Syne',sans-serif"},
  editorial:{display:"'Playfair Display',serif",body:"'DM Sans',sans-serif",       ui:"'Playfair Display',serif"},
  modern:   {display:"'Syne',sans-serif",       body:"'Space Grotesk',sans-serif", ui:"'Syne',sans-serif"},
  mono:     {display:"'IBM Plex Mono',monospace",body:"'IBM Plex Mono',monospace", ui:"'IBM Plex Mono',monospace"}
};

/* --- DEFAULT DATA --- */
const DEF={
  homeTag:'GRAPHIC DESIGN · LOGO DESIGNER · BRANDING',
  homeDesc:"Creo identità visive e loghi che raccontano storie. Ogni segno è una scelta, ogni colore un'emozione.",
  homeCta:'Guarda i lavori',
  navStatus:'Disponibile per progetti',
  aboutBio:"Sono Veronica, una graphic designer e logo designer con la passione per le forme, i colori e le storie visive. Da anni lavoro nel mondo della grafica 2D, trasformando idee in immagini che comunicano, emozionano e restano impresse.\n\nOgni progetto per me è un viaggio: parto sempre dall'ascolto, perché capire davvero chi c'è dall'altra parte è il primo passo per creare qualcosa di autentico e duraturo.",
  stat1:'4+',stat2:'10+',stat3:'30+',
  skills:['Illustrazione 2D','Brand Identity','Logo Design','Packaging','Social Design','Editorial','Typography','Illustrator','Photoshop','InDesign','Procreate','Figma'],
  portfolioIntro:'Una selezione dei miei lavori più significativi — brand identity, loghi e progetti editoriali.',
  contactSub:"Hai un progetto in mente? Sono sempre felice di ascoltare nuove idee.",
  contactEmail:'baccavero@gmail.com',
  contactIg:'@veronica.baccarin',
  contactBe:'behance.net/veronicabaccarin',
  contactLi:'veronicabaccarin',
  aboutImg:'about-photo-optimized.jpg',
  projects:[
    {id:'p1',name:"L'Abete - Logo Design",cat:'illustration',catLabel:'Logo Design',shape:'wide',desc:"Progetto di rebranding per un'antica ebanisteria artigianale. Il logo reinterpreta l'abete - simbolo del mestiere e del nome - attraverso linee geometriche che evocano i rami dell'albero e le venature del legno. Una palette di avorio, antracite e oro brunito restituisce l'eleganza senza tempo di una tradizione artigianale raccontata con un linguaggio visivo contemporaneo.",img:'mockup_1_insegna_labete-optimized.jpg',images:['mockup_1_insegna_labete-optimized.jpg','mockup_2_stationery_labete-optimized.jpg']},
    {id:'p2',name:'4Zeus - Branding',cat:'brand',catLabel:'Branding',shape:'tall',desc:"Progetto di rebranding per 4Zeus, hub digitale padovano attivo nella trasformazione digitale delle imprese tra formazione, sviluppo software e marketing strategico. Il logo gioca sul doppio rimando al nome: il fulmine - attributo di Zeus - diventa simbolo di energia, velocita e innovazione, racchiuso in un'icona circolare che trasmette solidita e centralita digitale. La palette bianco, blu navy e giallo elettrico amplifica il carattere dinamico e tech del brand, declinata con coerenza sulle business card",img:'free-modern-business-card-optimized.jpg',images:['free-modern-business-card-optimized.jpg','free-concrete-wall-plant-office-mockup-optimized.jpg']},
    {id:'p3',name:'Bar Vecia Padova - Logo Design',cat:'illustration',catLabel:'Logo Design',shape:'',desc:"Progetto di logo design per il Bar Vecia Padova, locale nel cuore del centro storico a due passi dal Duomo, punto di riferimento per lo spritz e i cicchetti della tradizione veneta. Il simbolo e uno skyline di Padova tracciato a mano libera in stile line art, che richiama i profili delle architetture storiche della citta con un segno spontaneo e autentico. Il lettering corsivo manoscritto sotto l'illustrazione rafforza l'anima locale e informale del locale, traducendo visivamente l'identita tutta padovana racchiusa nel nome - vecia, vecchia, in dialetto veneto.",img:'free-wooden-storefront-optimized.jpg',images:['free-wooden-storefront-optimized.jpg','beer-glass-mockup-optimized.jpg']},
    {id:'p4',name:'Natura Viva - Editoriale',cat:'editorial',catLabel:'Editoriale',shape:'',desc:'Layout editoriale e visual pack per linea succhi con tono fresco e leggibile.',img:'mockup_succhi_1_supermercato-optimized.jpg',images:['mockup_succhi_1_supermercato-optimized.jpg']},
    {id:'p5',name:'Eden Studio - Logo Design',cat:'illustration',catLabel:'Logo Design',shape:'',desc:"Progetto di logo design per Eden Studio, studio di architettura con una visione incentrata sull'integrazione tra spazio costruito e natura. Il simbolo fonde in un'unica icona una foglia - disegnata con rigore geometrico su una griglia di costruzione - e la sagoma di un arco architettonico al suo interno, rendendo visibile il dialogo tra verde e progetto. La palette monocromatica sul verde foresta e la tipografia spaziata ed elegante comunicano rigore professionale e sensibilita ambientale, posizionando il brand in modo preciso nel segmento del design sostenibile.",img:'chatgpt-image-24-feb-2026-09_58_09-optimized.jpg',images:['chatgpt-image-24-feb-2026-09_58_09-optimized.jpg','chatgpt-image-24-feb-2026-15_07_23-optimized.jpg']},
    {id:'p6',name:"L'Abete - Manuale del brand",cat:'brand',catLabel:'Branding',shape:'',desc:'Costruzione guida brand: uso logo, cromie, gerarchie e regole applicative.',img:'chatgpt-image-24-feb-2026-09_50_11-optimized.jpg',images:['chatgpt-image-24-feb-2026-09_50_11-optimized.jpg']},
    {id:'p7',name:'Morpha - Logo Design',cat:'illustration',catLabel:'Logo Design',shape:'',desc:"Progetto di logo design per Morpha, brand di auricolari dal design ispirato alla mantide religiosa - insetto simbolo di precisione, velocita e forma predatoria. Il simbolo reinterpreta la lettera M come la testa stilizzata di una mantide: le due ali asimmetriche e appuntite evocano le zampe anteriori dell'insetto, mentre la doppia curva centrale richiama al contempo la forma di un auricolare in-ear. La palette in bianco e nero puro e la tipografia geometrica bold comunicano un posizionamento premium e tech, con un carattere visivo aggressivo e immediatamente riconoscibile nel mercato dell'audio futuristico.",img:'morpha-logo-design-optimized.jpg',images:['morpha-logo-design-optimized.jpg','chatgpt-image-24-feb-2026-15_14_06-optimized.jpg']},
    {id:'p8',name:'Morpha Mantis Brochure - Editoriale',cat:'editorial',catLabel:'Editoriale',shape:'',desc:"Progetto di brochure tri-fold per il lancio in edizione limitata degli auricolari Mantis di Morpha, DROP 2026. Il layout gioca su un'estetica dark premium - sfondo nero assoluto, tipografia verde neon e immagini di prodotto con luci LED teal - per creare una coerenza visiva totale tra il materiale stampato e il design biomimetico del prodotto stesso. La struttura editoriale bilancia sezioni manifesto, scheda tecnica e call to action, guidando il lettore dall'emozione del brand fino alla prenotazione tramite QR code: un pezzo di comunicazione che non informa soltanto, ma amplifica l'identita del prodotto.",img:'morpha-mantis-brochure-editoriale-optimized.jpg',images:['morpha-mantis-brochure-editoriale-optimized.jpg']}
  ],
  // design
  theme:'white',
  font:'modern',
  fx:{grid:true, scan:false, glitch:false, marquee:false},
  scanIntensity:3,
  gridSize:72,
  colors:null // null = use theme preset
};

let D=JSON.parse(JSON.stringify(DEF));
let isAdmin=false;
let portfolioRendered=false;

/* --- STORAGE --- */
async function sGet(k){try{if(window.storage){const r=await window.storage.get(k);return r?r.value:null;}}catch(e){}return sessionStorage.getItem(k);}
async function sSet(k,v){try{if(window.storage){await window.storage.set(k,v);return;}}catch(e){}sessionStorage.setItem(k,v);}

/* --- PUBLIC STYLE CONTROLS --- */
const PUBLIC_UI_KEY='vb_public_ui_v2';
const PUBLIC_LOOKS=['clean','glass','editorial','luxury'];
const PUBLIC_LOOK_LABELS={clean:'Clean',glass:'Glass',editorial:'Editorial',luxury:'Luxury'};
const PUBLIC_THEMES=['lime','violet','coral','ice','rose','white'];
const PUBLIC_THEME_LABELS={lime:'Cobalt',violet:'Plum',coral:'Editorial',ice:'Teal',rose:'Burgundy',white:'Ivory'};
let publicUI={mode:'light',look:'luxury',theme:'white'};

function loadPublicUI(){
  try{
    const raw=localStorage.getItem(PUBLIC_UI_KEY);
    if(!raw)return;
    const p=JSON.parse(raw);
    if(p && (p.mode==='dark' || p.mode==='light'))publicUI.mode=p.mode;
    if(p && p.mode==='night')publicUI.mode='light'; // backward compatibility
    if(p && PUBLIC_LOOKS.includes(p.look))publicUI.look=p.look;
    if(p && PUBLIC_THEMES.includes(p.theme))publicUI.theme=p.theme;
  }catch(e){}
}
function savePublicUI(){
  try{localStorage.setItem(PUBLIC_UI_KEY,JSON.stringify(publicUI));}catch(e){}
}
function applyPublicUI(){
  document.body.classList.remove('mode-dark','mode-light','look-clean','look-glass','look-editorial','look-luxury');
  document.body.classList.add('mode-'+publicUI.mode,'look-'+publicUI.look);
  const modeLbl=document.getElementById('modeToggleLabel');
  const themeLbl=document.getElementById('themeToggleLabel');
  const lookLbl=document.getElementById('lookToggleLabel');
  if(modeLbl)modeLbl.textContent=publicUI.mode==='dark'?'Dark':'Light';
  if(themeLbl)themeLbl.textContent=PUBLIC_THEME_LABELS[publicUI.theme]||'Cobalt';
  if(lookLbl)lookLbl.textContent=PUBLIC_LOOK_LABELS[publicUI.look]||'Clean';
}
function toggleVisualMode(){
  publicUI.mode=publicUI.mode==='dark'?'light':'dark';
  applyPublicUI();
  savePublicUI();
  toast(publicUI.mode==='light'?'Light mode attiva':'Dark mode attiva');
}
function cyclePublicLook(){
  const i=PUBLIC_LOOKS.indexOf(publicUI.look);
  publicUI.look=PUBLIC_LOOKS[(i+1)%PUBLIC_LOOKS.length];
  applyPublicUI();
  savePublicUI();
  toast('Look: '+(PUBLIC_LOOK_LABELS[publicUI.look]||publicUI.look));
}
function cyclePublicTheme(){
  const i=PUBLIC_THEMES.indexOf(publicUI.theme);
  publicUI.theme=PUBLIC_THEMES[(i+1)%PUBLIC_THEMES.length];
  D.theme=publicUI.theme;
  D.colors=null;
  applyDesign(D);
  applyPublicUI();
  savePublicUI();
  refreshMotionFx();
  toast('Tema: '+(PUBLIC_THEME_LABELS[publicUI.theme]||publicUI.theme));
}
function initPublicUI(){
  loadPublicUI();
  if(!PUBLIC_THEMES.includes(publicUI.theme||'')){
    publicUI.theme=D.theme||'lime';
  }else{
    D.theme=publicUI.theme;
    D.colors=null;
    applyDesign(D);
  }
  applyPublicUI();
}

/* --- MOTION FX --- */
const REVEAL_SELECTOR='.hero-left,.hero-right,.marquee-band,.signature-shell,.signature-card,.manifesto-wrap,.manifesto-item,.case-study-wrap,.case-side-card,.section-intro,.about-grid,.port-intro,.filter-strip,.portfolio-grid,.contact-layout,.site-footer';
let revealObserver=null;
function ensureRevealObserver(){
  if(revealObserver || !('IntersectionObserver' in window))return;
  revealObserver=new IntersectionObserver(entries=>{
    entries.forEach(en=>{
      if(!en.isIntersecting)return;
      en.target.classList.add('is-visible');
      revealObserver.unobserve(en.target);
    });
  },{threshold:.14,rootMargin:'0px 0px -8% 0px'});
}
function markRevealTargets(scope){
  const root=scope&&scope.querySelectorAll?scope:document;
  const nodes=[...root.querySelectorAll(REVEAL_SELECTOR)];
  nodes.forEach((el,idx)=>{
    if(!el.classList.contains('reveal-item'))el.classList.add('reveal-item');
    if(!el.dataset.revealDelay){
      el.style.transitionDelay=Math.min(idx*55,220)+'ms';
      el.dataset.revealDelay='1';
    }
    if(revealObserver)revealObserver.observe(el);
    else el.classList.add('is-visible');
  });
}
function refreshMotionFx(){
  ensureRevealObserver();
  const active=document.querySelector('.page.active');
  if(active)markRevealTargets(active);
  const footer=document.querySelector('.site-footer');
  if(footer){
    if(!footer.classList.contains('reveal-item'))footer.classList.add('reveal-item');
    if(revealObserver)revealObserver.observe(footer);
    else footer.classList.add('is-visible');
  }
}
function bindCardTilt(){
  if(window.matchMedia('(hover:none),(pointer:coarse)').matches)return;
  document.querySelectorAll('.proj-card').forEach(card=>{
    if(card.dataset.tiltBound==='1')return;
    card.dataset.tiltBound='1';
    card.addEventListener('mousemove',e=>{
      const r=card.getBoundingClientRect();
      const x=(e.clientX-r.left)/Math.max(r.width,1)-0.5;
      const y=(e.clientY-r.top)/Math.max(r.height,1)-0.5;
      card.style.setProperty('--ry',(x*6).toFixed(2)+'deg');
      card.style.setProperty('--rx',(-y*5).toFixed(2)+'deg');
    });
    card.addEventListener('mouseleave',()=>{
      card.style.setProperty('--rx','0deg');
      card.style.setProperty('--ry','0deg');
    });
  });
}

/* --- CURSOR --- */
const CE=document.getElementById('cursor'),RE=document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
const useCustomCursor=!!(CE&&RE)&&window.matchMedia('(hover:hover) and (pointer:fine)').matches&&getComputedStyle(CE).display!=='none';
if(useCustomCursor){
  document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;CE.style.left=mx+'px';CE.style.top=my+'px';});
  (function a(){rx+=(mx-rx)*.12;ry+=(my-ry)*.12;RE.style.left=rx+'px';RE.style.top=ry+'px';requestAnimationFrame(a);})();
}
function rebind(){
  if(useCustomCursor){
    document.querySelectorAll('a,button,.proj-card,.skill-chip,.filter-btn').forEach(el=>{
      if(el.dataset.cursorBound==='1')return;
      el.dataset.cursorBound='1';
      el.addEventListener('mouseenter',()=>{CE.style.width='20px';CE.style.height='20px';RE.style.width='52px';RE.style.height='52px';});
      el.addEventListener('mouseleave',()=>{CE.style.width='8px';CE.style.height='8px';RE.style.width='32px';RE.style.height='32px';});
    });
  }
  bindCardTilt();
}

/* --- ROUTING --- */
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>{p.classList.remove('active','fade-in');p.style.display='none';});
  const t=document.getElementById(id);t.style.display='block';void t.offsetWidth;
  t.classList.add('active','fade-in');
  document.querySelectorAll('.nav-links a').forEach(a=>a.classList.remove('active'));
  const nv=document.getElementById('nav-'+id);if(nv)nv.classList.add('active');
  syncMobileNavLabel(id);
  closeMobileNav();
  if(id==='portfolio' && !portfolioRendered){renderGrid(D.projects);portfolioRendered=true;}
  if(id==='home')animateCounters();
  window.scrollTo(0,0);
  requestAnimationFrame(refreshMotionFx);
  return false;
}
function toggleMobileNav(){
  if(window.innerWidth>600)return;
  const nav=document.getElementById('navLinks');
  const btn=document.getElementById('navMobileToggle');
  if(!nav||!btn)return;
  const isOpen=nav.classList.toggle('open');
  btn.setAttribute('aria-expanded',isOpen?'true':'false');
}
function closeMobileNav(){
  const nav=document.getElementById('navLinks');
  const btn=document.getElementById('navMobileToggle');
  if(!nav||!btn)return;
  nav.classList.remove('open');
  btn.setAttribute('aria-expanded','false');
}
function syncMobileNavLabel(id){
  const label=document.getElementById('navMobileLabel');
  if(!label)return;
  const labels={home:'Home',about:'About',portfolio:'Portfolio',contact:'Contatti'};
  label.textContent=labels[id]||'Menu';
}
document.querySelectorAll('[onclick]').forEach(el=>el.addEventListener('click',e=>e.preventDefault()));
window.addEventListener('resize',()=>{if(window.innerWidth>600)closeMobileNav();});

function filterProj(cat,btn){
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  if(btn)btn.classList.add('active');
  document.querySelectorAll('.proj-card').forEach(c=>{
    const show=cat==='all'||c.dataset.cat===cat;
    c.classList.toggle('is-hidden',!show);
    c.setAttribute('aria-hidden',show?'false':'true');
  });
}
function cfSubmit(e){
  e.preventDefault();
  const form=e.target;
  const b=form.querySelector('.cf-submit');
  const name=(form.querySelector('input[name="name"]')?.value||'').trim();
  const email=(form.querySelector('input[name="email"]')?.value||'').trim();
  const projectType=(form.querySelector('input[name="projectType"]')?.value||'').trim();
  const message=(form.querySelector('textarea[name="message"]')?.value||'').trim();
  const to=(document.querySelector('[data-key="contactEmail"]')?.textContent||'baccavero@gmail.com').trim();
  if(!name||!email||!message){
    b.textContent='Compila i campi obbligatori';
    b.style.background='var(--danger)';
    b.style.color='#fff';
    setTimeout(()=>{b.textContent='\u2192 Invia messaggio';b.style.background='';b.style.color='';},2200);
    return;
  }
  const subject=`Nuovo contatto dal sito - ${name}`;
  const body=[
    `Nome: ${name}`,
    `Email: ${email}`,
    `Tipo progetto: ${projectType||'Non specificato'}`,
    '',
    'Messaggio:',
    message
  ].join('\n');
  const mailto=`mailto:${encodeURIComponent(to)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.location.href=mailto;
  b.textContent='Email pronta';
  b.style.background='var(--success)';
  b.style.color='#fff';
  setTimeout(()=>{b.textContent='\u2192 Invia messaggio';b.style.background='';b.style.color='';},2500);
}

/* --- COUNTER --- */
function animateCounters(){
  document.querySelectorAll('.stat-num').forEach(el=>{
    const raw=el.textContent.replace(/\D/g,'');const target=parseInt(raw)||0;const suf=el.textContent.replace(/[0-9]/g,'');
    let cur=0;const inc=target/60;
    const iv=setInterval(()=>{cur=Math.min(cur+inc,target);el.textContent=Math.floor(cur)+suf;if(cur>=target){el.textContent=target+suf;clearInterval(iv);}},20);
  });
  setTimeout(()=>{document.querySelectorAll('.stat-bar-fill').forEach(b=>{b.style.width=b.dataset.pct+'%';});},200);
}

/* --- APPLY DATA --- */
function setKey(k,v){document.querySelectorAll('[data-key="'+k+'"]').forEach(e=>e.textContent=v);}
const catL=c=>({brand:'Brand Identity',illustration:'Loghi',editorial:'Editoriale'}[c]||c);
const escAttr=s=>String(s||'').replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
const escHtml=s=>String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
const IMG_CANON={
  'mockup_2_stationery_labete.png':'mockup_2_stationery_labete-optimized.jpg',
  'Free Concrete Wall with a Plant on the Office Mockup.jpg':'free-concrete-wall-plant-office-mockup-optimized.jpg',
  'Beer Glass Mockup.jpg':'beer-glass-mockup-optimized.jpg',
  'ChatGPT Image 24 feb 2026, 15_07_23.png':'chatgpt-image-24-feb-2026-15_07_23-optimized.jpg',
  'ChatGPT Image 24 feb 2026, 15_14_06.png':'chatgpt-image-24-feb-2026-15_14_06-optimized.jpg'
};
const canonImg=n=>IMG_CANON[n]||n;
function toSmallSrc(src){
  if(!src || src.startsWith('data:'))return src;
  return src.replace(/-optimized\.jpg$/i,'-sm.jpg');
}
function responsiveForSrc(src,kind='card'){
  const sizes=kind==='lightbox' ? '(max-width: 600px) 100vw, 92vw'
    : kind==='thumb' ? '(max-width: 600px) 20vw, 120px'
    : '(max-width: 600px) 100vw, (max-width: 960px) 50vw, 33vw';
  const small=toSmallSrc(src);
  if(small!==src){
    return {src,srcset:`${small} 900w, ${src} 1600w`,sizes};
  }
  return {src,srcset:'',sizes:''};
}
function imgTagAttrs(src,kind='card'){
  const r=responsiveForSrc(src,kind);
  let out=`src="${escAttr(r.src)}"`;
  if(r.srcset){ out+=` srcset="${escAttr(r.srcset)}" sizes="${r.sizes}"`; }
  return out;
}

function getProjectImages(p){
  if(!p)return[];
  const base=Array.isArray(p.images)?p.images.filter(Boolean).map(canonImg):[];
  const primary=canonImg(p.img);
  if(primary && !base.includes(primary))base.unshift(primary);
  return base;
}

function normalizeProjects(projects){
  return (projects||[]).map((p,i)=>{
    const fallback=DEF.projects[i]||{};
    const merged=Object.assign({},fallback,p);
    const images=[...new Set([...getProjectImages(fallback),...getProjectImages(merged)])];
    merged.images=images;
    merged.img=images[0]||null;
    merged.desc=typeof merged.desc==='string' ? merged.desc : '';
    return merged;
  });
}

function applyData(d){
  d.projects=normalizeProjects(d.projects);
  setKey('homeTag',d.homeTag);setKey('homeDesc',d.homeDesc);setKey('homeCta',d.homeCta);
  setKey('stat1',d.stat1);setKey('stat2',d.stat2);setKey('stat3',d.stat3);
  setKey('portfolioIntro',d.portfolioIntro);
  setKey('contactSub',d.contactSub);setKey('contactEmail',d.contactEmail);
  setKey('contactIg',d.contactIg);setKey('contactBe',d.contactBe);setKey('contactLi',d.contactLi);
  document.getElementById('navStatusTxt').textContent=d.navStatus||DEF.navStatus;
  document.getElementById('aboutBioEl').innerHTML=d.aboutBio.replace(/\n\n/g,'<br><br>').replace('graphic designer e logo designer','<em>graphic designer e logo designer</em>');
  document.getElementById('skillsDisplay').innerHTML=d.skills.map(s=>`<span class="skill-chip">${s}</span>`).join('');
  if(document.getElementById('portfolio').classList.contains('active') || portfolioRendered){
    renderGrid(d.projects);
    portfolioRendered=true;
  }else{
    portfolioRendered=false;
  }
  // about img
  if(d.aboutImg){document.getElementById('aboutSvg').style.display='none';const im=document.getElementById('aboutImgEl');im.src=d.aboutImg;im.style.display='block';}
  else{document.getElementById('aboutSvg').style.display='block';document.getElementById('aboutImgEl').style.display='none';}
  document.getElementById('linkEmail').href='mailto:'+d.contactEmail;
  const igUser=(d.contactIg||'').trim().replace(/^@+/,'');
  const igHref=igUser?`https://www.instagram.com/${encodeURIComponent(igUser)}/`:'https://www.instagram.com/';
  const liHref='https://www.linkedin.com/in/veronicabaccarin/';
  const igEl=document.getElementById('linkIg');
  const liEl=document.getElementById('linkLi');
  igEl.href=igHref;igEl.target='_blank';igEl.rel='noopener noreferrer';
  liEl.href=liHref;liEl.target='_blank';liEl.rel='noopener noreferrer';
  // design
  applyDesign(d);
  rebind();
}

function renderGrid(projects){
  const g=document.getElementById('projectGrid');
  g.innerHTML=projects.map(p=>{
    const cls='proj-card'+(p.shape?' '+p.shape:'');
    const images=getProjectImages(p);
    const thumb=images[0]
      ? (images[1]
        ? `<div class="proj-thumb-collage"><img class="proj-thumb-main" ${imgTagAttrs(images[0],'card')} alt="${escAttr(p.name)}" loading="lazy" decoding="async" fetchpriority="low"/><img class="proj-thumb-second" ${imgTagAttrs(images[1],'thumb')} alt="" loading="lazy" decoding="async"/></div>`
        : `<img ${imgTagAttrs(images[0],'card')} alt="${escAttr(p.name)}" loading="lazy" decoding="async" fetchpriority="low"/>`)
      : (SVG_P[p.id]||'');
    const clickData=images[0]?` data-proj-id="${escAttr(p.id)}"`:'';
    const arrow=images[0]?`<button class="proj-overlay-arrow" type="button" aria-label="Apri immagine ${escAttr(p.name)}" data-proj-id="${escAttr(p.id)}" data-img-idx="0">&rarr;</button>`:'';
    const mini=images.length>1?`<div class="proj-thumb-gallery">${images.slice(0,3).map((src,idx)=>`<button class="proj-thumb-mini ${idx===0?'active':''}" type="button" data-proj-id="${escAttr(p.id)}" data-img-idx="${idx}" aria-label="Apri immagine ${idx+1} di ${escAttr(p.name)}"><img ${imgTagAttrs(src,'thumb')} alt="" loading="lazy" decoding="async"/></button>`).join('')}${images.length>3?`<div class="proj-thumb-more">+${images.length-3}</div>`:''}</div>`:'';
    const desc=(p.desc||'').trim();
    return`<div class="${cls}" data-cat="${p.cat}">
      <div class="proj-thumb"${clickData}>${thumb}${mini}<div class="proj-overlay">${arrow}<div class="proj-overlay-cat">${escHtml(p.catLabel||catL(p.cat))}</div><div class="proj-overlay-name">${escHtml(p.name)}</div></div></div>
      <div class="proj-label"><div class="proj-label-main"><div class="proj-name">${escHtml(p.name)}</div>${desc?`<div class="proj-desc">${escHtml(desc)}</div>`:''}</div><div class="proj-cat-tag">${escHtml(p.catLabel||catL(p.cat))}</div></div>
    </div>`;
  }).join('');
  document.querySelectorAll('.proj-overlay-arrow').forEach(btn=>{
    if(btn.dataset.bound==='1')return;
    btn.dataset.bound='1';
    btn.addEventListener('click',e=>{
      e.preventDefault();
      e.stopPropagation();
      openProjLightbox(btn.dataset.projId||'',parseInt(btn.dataset.imgIdx||'0',10)||0);
    });
  });
  document.querySelectorAll('.proj-thumb[data-proj-id]').forEach(el=>{
    if(el.dataset.bound==='1')return;
    el.dataset.bound='1';
    el.addEventListener('click',e=>{
      if(e.target.closest('.proj-overlay-arrow')||e.target.closest('.proj-thumb-mini'))return;
      openProjLightbox(el.dataset.projId||'',0);
    });
  });
  document.querySelectorAll('.proj-thumb-mini').forEach(btn=>{
    if(btn.dataset.bound==='1')return;
    btn.dataset.bound='1';
    btn.addEventListener('click',e=>{
      e.preventDefault();
      e.stopPropagation();
      openProjLightbox(btn.dataset.projId||'',parseInt(btn.dataset.imgIdx||'0',10)||0);
    });
  });
  rebind();
  refreshMotionFx();
}

let lbItems=[];
let lbIndex=-1;
let lbProject=null;
let lbTouchStartX=0;
let lbTouchStartY=0;

function showProjLightboxIndex(idx){
  if(!lbItems.length)return;
  lbIndex=(idx+lbItems.length)%lbItems.length;
  const it=lbItems[lbIndex];
  const img=document.getElementById('projLightboxImg');
  if(!img)return;
  const rsp=responsiveForSrc(it.src,'lightbox');
  img.src=rsp.src;
  if(rsp.srcset){
    img.srcset=rsp.srcset;
    img.sizes=rsp.sizes;
  }else{
    img.removeAttribute('srcset');
    img.removeAttribute('sizes');
  }
  img.alt=it.alt||'Anteprima progetto';
  const thumbs=[...document.querySelectorAll('.proj-lightbox-thumb')];
  thumbs.forEach((t,i)=>t.classList.toggle('active',i===lbIndex));
  const count=document.getElementById('projLightboxCount');
  if(count)count.textContent=`${lbIndex+1} / ${lbItems.length}`;
}

function renderProjLightboxMeta(){
  const title=document.getElementById('projLightboxTitle');
  const cat=document.getElementById('projLightboxCat');
  const desc=document.getElementById('projLightboxDesc');
  const thumbs=document.getElementById('projLightboxThumbs');
  const prev=document.getElementById('projLbPrev');
  const next=document.getElementById('projLbNext');
  if(!title||!cat||!desc||!thumbs||!prev||!next)return;
  title.textContent=lbProject?lbProject.name:'';
  cat.textContent=lbProject?(lbProject.catLabel||catL(lbProject.cat)):'';
  desc.textContent=lbProject && lbProject.desc ? lbProject.desc : 'Nessuna descrizione disponibile.';
  thumbs.innerHTML=lbItems.map((it,i)=>`<button class="proj-lightbox-thumb ${i===lbIndex?'active':''}" type="button" data-idx="${i}" aria-label="Vai immagine ${i+1}"><img ${imgTagAttrs(it.src,'thumb')} alt="" loading="lazy" decoding="async"/></button>`).join('');
  thumbs.querySelectorAll('.proj-lightbox-thumb').forEach(btn=>{
    btn.addEventListener('click',e=>{
      e.preventDefault();
      showProjLightboxIndex(parseInt(btn.dataset.idx||'0',10)||0);
    });
  });
  const canStep=lbItems.length>1;
  prev.style.display=canStep?'flex':'none';
  next.style.display=canStep?'flex':'none';
}

function openProjLightbox(projectId,startIndex=0){
  const p=(D.projects||[]).find(x=>x.id===projectId);
  if(!p)return;
  const images=getProjectImages(p);
  if(!images.length)return;
  const lb=document.getElementById('projLightbox');
  if(!lb)return;
  lbProject=p;
  lbItems=images.map((src,i)=>({src,alt:`${p.name} ${i+1}`}));
  showProjLightboxIndex(startIndex);
  renderProjLightboxMeta();
  lb.classList.add('open');
  document.body.style.overflow='hidden';
}
function stepProjLightbox(step){
  const lb=document.getElementById('projLightbox');
  if(!lb||!lb.classList.contains('open')||!lbItems.length)return;
  showProjLightboxIndex(lbIndex+step);
}
function closeProjLightbox(){
  const lb=document.getElementById('projLightbox');
  const img=document.getElementById('projLightboxImg');
  if(!lb||!img)return;
  lb.classList.remove('open');
  img.removeAttribute('src');
  lbItems=[];
  lbIndex=-1;
  lbProject=null;
  const thumbs=document.getElementById('projLightboxThumbs');
  if(thumbs)thumbs.innerHTML='';
  document.body.style.overflow='';
}
document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){
    closeProjLightbox();
    closeTermsModal();
    closeCookiePolicyModal();
  }
  if(e.key==='ArrowRight')stepProjLightbox(1);
  if(e.key==='ArrowLeft')stepProjLightbox(-1);
});
const projLightboxEl=document.getElementById('projLightbox');
if(projLightboxEl){
  projLightboxEl.addEventListener('touchstart',e=>{
    const t=e.changedTouches&&e.changedTouches[0];
    if(!t)return;
    lbTouchStartX=t.clientX;
    lbTouchStartY=t.clientY;
  },{passive:true});
  projLightboxEl.addEventListener('touchend',e=>{
    const t=e.changedTouches&&e.changedTouches[0];
    if(!t)return;
    const dx=t.clientX-lbTouchStartX;
    const dy=t.clientY-lbTouchStartY;
    if(Math.abs(dx)<50 || Math.abs(dx)<Math.abs(dy))return;
    if(dx<0)stepProjLightbox(1);
    else stepProjLightbox(-1);
  },{passive:true});
}

/* --- DESIGN ENGINE --- */
function applyDesign(d){
  const root=document.documentElement;
  // Colors: custom overrides or preset
  const t=THEMES[d.theme]||THEMES.lime;
  const c=d.colors||{};
  root.style.setProperty('--accent', c.accent||t.accent);
  root.style.setProperty('--accent-hover', lightenHex(c.accent||t.accent,20));
  root.style.setProperty('--bg', c.bg||t.bg);
  root.style.setProperty('--surface', c.surface||t.surface);
  root.style.setProperty('--text', c.text||t.text);
  root.style.setProperty('--border', c.border||t.border);
  root.style.setProperty('--muted', c.muted||t.muted);
  root.style.setProperty('--border2', t.border2);
  // Fonts
  const f=FONTS[d.font]||FONTS.tech;
  root.style.setProperty('--font-display',f.display);
  root.style.setProperty('--font-body',f.body);
  root.style.setProperty('--font-ui',f.ui);
  // Effects
  const fx=d.fx||{};
  root.style.setProperty('--grid-show', fx.grid!==false?1:0);
  root.style.setProperty('--scanline-opacity', fx.scan!==false?(d.scanIntensity||8)/100:0);
  root.style.setProperty('--grid-size', (d.gridSize||60)+'px');
  if(fx.glitch===false) document.body.classList.add('no-glitch');
  else document.body.classList.remove('no-glitch');
  const mq=document.getElementById('marqueeEl');
  if(mq) mq.style.display=fx.marquee!==false?'block':'none';
}

function lightenHex(hex,amt){
  try{
    const n=parseInt(hex.replace('#',''),16);
    const r=Math.min(255,((n>>16)&0xff)+amt), g=Math.min(255,((n>>8)&0xff)+amt), b=Math.min(255,(n&0xff)+amt);
    return'#'+[r,g,b].map(x=>x.toString(16).padStart(2,'0')).join('');
  }catch(e){return hex;}
}

/* --- TOAST --- */
function toast(msg,type=''){
  const t=document.getElementById('toast');t.textContent=msg;t.className='show '+(type==='ok'?'ok':'');
  setTimeout(()=>t.className='',2800);
}

/* --- PRIVACY & COOKIE BANNERS --- */
const PRIVACY_SEEN_KEY='vb_privacy_seen_v2';
const COOKIE_CHOICE_KEY='vb_cookie_choice_v2'; // all | essential
function policyGet(k){
  try{
    return localStorage.getItem(k);
  }catch(e){
    try{return sessionStorage.getItem(k);}catch(_){return null;}
  }
}
function policySet(k,v){
  try{
    localStorage.setItem(k,v);
    return;
  }catch(e){
    try{sessionStorage.setItem(k,v);}catch(_){}
  }
}

function openPrivacyBanner(){
  const el=document.getElementById('privacyBanner');
  if(el)el.classList.add('open');
  syncPolicyBannerState();
}
function closePrivacyBanner(){
  const el=document.getElementById('privacyBanner');
  if(el)el.classList.remove('open');
  syncPolicyBannerState();
}
function acceptPrivacyBanner(){
  policySet(PRIVACY_SEEN_KEY,'1');
  closePrivacyBanner();
  maybeOpenCookieBanner();
}
function openCookieBanner(){
  const el=document.getElementById('cookieBanner');
  if(el)el.classList.add('open');
  syncPolicyBannerState();
}
function closeCookieBanner(){
  const el=document.getElementById('cookieBanner');
  if(el)el.classList.remove('open');
  syncPolicyBannerState();
}
function acceptAllCookies(){
  policySet(COOKIE_CHOICE_KEY,'all');
  closeCookieBanner();
}
function acceptEssentialCookies(){
  policySet(COOKIE_CHOICE_KEY,'essential');
  closeCookieBanner();
}
function maybeOpenCookieBanner(){
  if(policyGet(COOKIE_CHOICE_KEY))return;
  openCookieBanner();
}
function initPolicyBanners(){
  const seenPrivacy=policyGet(PRIVACY_SEEN_KEY)==='1';
  if(!seenPrivacy){
    openPrivacyBanner();
    syncPolicyBannerState();
    return;
  }
  maybeOpenCookieBanner();
  syncPolicyBannerState();
}
function syncPolicyBannerState(){
  const p=document.getElementById('privacyBanner');
  const c=document.getElementById('cookieBanner');
  const hasOpen=(p&&p.classList.contains('open'))||(c&&c.classList.contains('open'));
  document.body.classList.toggle('has-policy-banner',!!hasOpen);
}
function openTermsModal(e){
  if(e)e.preventDefault();
  const m=document.getElementById('termsModal');
  if(!m)return;
  m.classList.add('open');
  document.body.style.overflow='hidden';
}
function closeTermsModal(){
  const m=document.getElementById('termsModal');
  if(!m)return;
  m.classList.remove('open');
  if(
    !document.getElementById('projLightbox')?.classList.contains('open') &&
    !document.getElementById('cookiePolicyModal')?.classList.contains('open')
  ){
    document.body.style.overflow='';
  }
}
function openCookiePolicyModal(e){
  if(e)e.preventDefault();
  const m=document.getElementById('cookiePolicyModal');
  if(!m)return;
  m.classList.add('open');
  document.body.style.overflow='hidden';
}
function closeCookiePolicyModal(){
  const m=document.getElementById('cookiePolicyModal');
  if(!m)return;
  m.classList.remove('open');
  if(
    !document.getElementById('projLightbox')?.classList.contains('open') &&
    !document.getElementById('termsModal')?.classList.contains('open')
  ){
    document.body.style.overflow='';
  }
}

/* --- LOGIN --- */
function openLogin(){if(isAdmin){openAdmin();return;} document.getElementById('loginModal').classList.add('open'); document.getElementById('loginUser').value=''; document.getElementById('loginPass').value=''; document.getElementById('loginErr').style.display='none'; setTimeout(()=>document.getElementById('loginUser').focus(),200);}
function closeLogin(){document.getElementById('loginModal').classList.remove('open');}
async function doLogin(){
  const userEl=document.getElementById('loginUser'), passEl=document.getElementById('loginPass'), errEl=document.getElementById('loginErr');
  const u=userEl.value.trim(), p=passEl.value;
  const now=Date.now();
  const guard=getLoginGuard();
  if(guard.blockUntil && now<guard.blockUntil){
    const mins=Math.ceil((guard.blockUntil-now)/60000);
    errEl.textContent=`Troppi tentativi. Riprova tra ${mins} min.`;
    errEl.style.display='block';
    passEl.value='';
    return;
  }
  const check = await sha256Hex(`${ADMIN_LOGIN.salt}|${u}:${p}`);
  if(check===ADMIN_LOGIN.hash){
    setLoginGuard({attempts:0});
    errEl.textContent='Credenziali non valide';
    closeLogin();isAdmin=true;openAdmin();
  }else{
    const attempts=(guard.attempts||0)+1;
    const next={attempts};
    if(attempts>=ADMIN_LOGIN.maxAttempts){ next.blockUntil=now+ADMIN_LOGIN.blockMs; next.attempts=0; }
    setLoginGuard(next);
    errEl.textContent = attempts>=ADMIN_LOGIN.maxAttempts ? 'Troppi tentativi. Accesso bloccato per 5 minuti.' : 'Credenziali non valide';
    errEl.style.display='block';passEl.value='';passEl.focus();
  }
}

/* --- ADMIN PANEL --- */
function openAdmin(){document.getElementById('adminPanel').classList.add('open');populateForms();}
function closeAdmin(){document.getElementById('adminPanel').classList.remove('open');}
function logout(){isAdmin=false;closeAdmin();toast('Sessione terminata.');}
function switchTab(id,btn){
  document.querySelectorAll('.ap-tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.ap-pane').forEach(p=>p.classList.remove('active'));
  btn.classList.add('active');document.getElementById(id).classList.add('active');
}

function populateForms(){
  document.getElementById('f-homeTag').value=D.homeTag;
  document.getElementById('f-homeDesc').value=D.homeDesc;
  document.getElementById('f-homeCta').value=D.homeCta;
  document.getElementById('f-navStatus').value=D.navStatus||DEF.navStatus;
  document.getElementById('f-bio').value=D.aboutBio;
  document.getElementById('f-s1').value=D.stat1;
  document.getElementById('f-s2').value=D.stat2;
  document.getElementById('f-s3').value=D.stat3;
  document.getElementById('f-portIntro').value=D.portfolioIntro;
  document.getElementById('f-contSub').value=D.contactSub;
  document.getElementById('f-email').value=D.contactEmail;
  document.getElementById('f-ig').value=D.contactIg;
  document.getElementById('f-be').value=D.contactBe;
  document.getElementById('f-li').value=D.contactLi;
  // about img
  if(D.aboutImg){const pv=document.getElementById('abiPrev');pv.src=D.aboutImg;pv.style.display='block';document.getElementById('abiClearWrap').style.display='block';}
  else{document.getElementById('abiPrev').style.display='none';document.getElementById('abiClearWrap').style.display='none';}
  renderSkillEditor(D.skills);
  renderProjEditor(D.projects);
  populateDesignForms();
}

/* skills */
function renderSkillEditor(skills){
  document.getElementById('skillWrap').innerHTML=skills.map((s,i)=>`<div class="sk-item">${s}<button class="sk-del" onclick="rmSkill(${i})">×</button></div>`).join('');
}
function rmSkill(i){D.skills.splice(i,1);renderSkillEditor(D.skills);}
function addSkill(){const ip=document.getElementById('skInp'),v=ip.value.trim();if(!v)return;D.skills.push(v);ip.value='';renderSkillEditor(D.skills);}

/* projects */
function renderProjEditor(projects){
  document.getElementById('projEditor').innerHTML=projects.map((p,i)=>`
    <div class="pec" id="pec-${p.id}">
      <div class="pec-head" onclick="tgProj('ped-${p.id}','par-${p.id}')">
        <div><div class="pec-name" id="pen-${p.id}">${escHtml(p.name)}</div><div class="pec-cat">${escHtml(catL(p.cat))}</div></div>
        <span class="pec-arr" id="par-${p.id}">&#9662;</span>
      </div>
      <div class="pec-det" id="ped-${p.id}">
        <div class="ap-f"><label>Nome progetto</label><input type="text" value="${escAttr(p.name)}" oninput="D.projects[${i}].name=this.value;document.getElementById('pen-${p.id}').textContent=this.value;"/></div>
        <div class="ap-f"><label>Descrizione breve</label><textarea rows="3" oninput="D.projects[${i}].desc=this.value;">${escHtml(p.desc||'')}</textarea></div>
        <div class="ap-f"><label>Categoria</label>
          <select onchange="D.projects[${i}].cat=this.value;">
            <option value="brand" ${p.cat==='brand'?'selected':''}>Brand Identity</option>
            <option value="illustration" ${p.cat==='illustration'?'selected':''}>Loghi</option>
            <option value="editorial" ${p.cat==='editorial'?'selected':''}>Editoriale</option>
          </select>
        </div>
        <div class="ap-f"><label>Gallery immagini</label>
          <div class="img-drop" onclick="document.getElementById('pi-${p.id}').click()">
            <div class="img-drop-lbl">${getProjectImages(p).length?`${getProjectImages(p).length} immagini caricate - clicca per aggiungerne`:'Carica una o piu immagini JPG/PNG'}</div>
            <input type="file" id="pi-${p.id}" accept="image/*" multiple style="display:none" onchange="handleProjImgs(this,${i},'${p.id}')"/>
          </div>
        </div>
        ${getProjectImages(p).length?`<div class="proj-img-list">${getProjectImages(p).map((src,imgIdx)=>`<div class="proj-img-item"><img src="${src}" alt="Anteprima ${imgIdx+1}"/><button type="button" onclick="rmProjImg(${i},${imgIdx},'${p.id}')">Rimuovi</button></div>`).join('')}</div>`:''}
        ${getProjectImages(p).length?`<div class="ap-f"><button class="ap-dbtn" onclick="clrProjImgs(${i},'${p.id}')">Rimuovi tutte le immagini</button></div>`:''}
      </div>
    </div>`).join('');
}
function tgProj(dId,aId){const d=document.getElementById(dId),a=document.getElementById(aId);d.classList.toggle('open');a.classList.toggle('open');}
function reopenProjectEditor(pid){
  renderProjEditor(D.projects);
  setTimeout(()=>{const d=document.getElementById('ped-'+pid);if(d){d.classList.add('open');document.getElementById('par-'+pid).classList.add('open');}},60);
}
function fileToDataUrl(file){
  return new Promise((resolve,reject)=>{
    const r=new FileReader();
    r.onload=e=>resolve(e.target.result);
    r.onerror=reject;
    r.readAsDataURL(file);
  });
}
async function handleProjImgs(inp,idx,pid){
  const files=[...(inp.files||[])];
  if(!files.length)return;
  try{
    const added=(await Promise.all(files.map(fileToDataUrl))).filter(Boolean);
    const curr=getProjectImages(D.projects[idx]);
    D.projects[idx].images=[...curr,...added];
    D.projects[idx].img=D.projects[idx].images[0]||null;
    inp.value='';
    reopenProjectEditor(pid);
  }catch(e){
    toast('Errore nel caricamento immagini');
  }
}
function rmProjImg(idx,imgIdx,pid){
  const curr=getProjectImages(D.projects[idx]);
  curr.splice(imgIdx,1);
  D.projects[idx].images=curr;
  D.projects[idx].img=curr[0]||null;
  reopenProjectEditor(pid);
}
function clrProjImgs(idx,pid){
  D.projects[idx].images=[];
  D.projects[idx].img=null;
  reopenProjectEditor(pid);
}

function handleImg(inp,sk,prevId){
  const f=inp.files[0];if(!f)return;
  const r=new FileReader();
  r.onload=e=>{D[sk]=e.target.result;const pv=document.getElementById(prevId);pv.src=e.target.result;pv.style.display='block';document.getElementById('abiClearWrap').style.display='block';};
  r.readAsDataURL(f);
}
function clearAboutImg(){D.aboutImg=null;document.getElementById('abiPrev').style.display='none';document.getElementById('abiClearWrap').style.display='none';}

/* --- DESIGN FORMS --- */
function populateDesignForms(){
  const t=THEMES[D.theme]||THEMES.lime;
  const c=D.colors||{};
  function fillColor(key){
    const val=c[key]||t[key]||'';
    const cp=document.getElementById('c-'+key);
    const tx=document.getElementById('c-'+key+'-hex');
    if(cp)cp.value=val;
    if(tx)tx.value=val;
  }
  ['accent','bg','surface','text','border','muted'].forEach(fillColor);
  // font
  document.querySelectorAll('.font-opt').forEach(el=>{
    el.classList.toggle('selected',el.dataset.font===D.font);
  });
  // effects
  const fx=D.fx||{};
  document.getElementById('fx-grid').checked=fx.grid!==false;
  document.getElementById('fx-scan').checked=fx.scan!==false;
  document.getElementById('fx-glitch').checked=fx.glitch!==false;
  document.getElementById('fx-marquee').checked=fx.marquee!==false;
  // sliders
  const si=D.scanIntensity||8;
  document.getElementById('sl-scan').value=si;
  document.getElementById('scanVal').textContent=si+'%';
  const gs=D.gridSize||60;
  document.getElementById('sl-grid').value=gs;
  document.getElementById('gridVal').textContent=gs+'px';
}

/* live color changes */
function liveColor(key,val){
  if(!D.colors)D.colors={};
  D.colors[key]=val;
  document.documentElement.style.setProperty('--'+key,val);
  if(key==='accent'){
    document.documentElement.style.setProperty('--accent-hover',lightenHex(val,20));
  }
  document.getElementById('c-'+key+'-hex').value=val;
}
function syncColorFromHex(key,val){
  if(!/^#[0-9a-fA-F]{6}$/.test(val))return;
  if(!D.colors)D.colors={};
  D.colors[key]=val;
  document.documentElement.style.setProperty('--'+key,val);
  if(key==='accent') document.documentElement.style.setProperty('--accent-hover',lightenHex(val,20));
  document.getElementById('c-'+key).value=val;
}

/* theme preset click */
function applyTheme(name){
  D.theme=name; D.colors=null; // clear custom
  applyDesign(D);
  publicUI.theme=name;
  applyPublicUI();
  savePublicUI();
  populateDesignForms();
  toast('Tema "'+name+'" applicato!');
}

/* font click */
function applyFont(name,el){
  D.font=name;
  document.querySelectorAll('.font-opt').forEach(f=>f.classList.remove('selected'));
  el.classList.add('selected');
  applyDesign(D);
}

/* fx toggles */
function fxToggle(key,val){
  if(!D.fx)D.fx={};
  D.fx[key]=val;
  applyDesign(D);
}
function sliderScan(v){
  D.scanIntensity=parseInt(v);
  document.getElementById('scanVal').textContent=v+'%';
  document.documentElement.style.setProperty('--scanline-opacity',v/100);
}
function sliderGrid(v){
  D.gridSize=parseInt(v);
  document.getElementById('gridVal').textContent=v+'px';
  document.documentElement.style.setProperty('--grid-size',v+'px');
}

/* --- SAVE ALL --- */
async function saveAll(){
  D.homeTag=document.getElementById('f-homeTag').value.trim();
  D.homeDesc=document.getElementById('f-homeDesc').value.trim();
  D.homeCta=document.getElementById('f-homeCta').value.trim();
  D.navStatus=document.getElementById('f-navStatus').value.trim();
  D.aboutBio=document.getElementById('f-bio').value.trim();
  D.stat1=document.getElementById('f-s1').value.trim();
  D.stat2=document.getElementById('f-s2').value.trim();
  D.stat3=document.getElementById('f-s3').value.trim();
  D.portfolioIntro=document.getElementById('f-portIntro').value.trim();
  D.contactSub=document.getElementById('f-contSub').value.trim();
  D.contactEmail=document.getElementById('f-email').value.trim();
  D.contactIg=document.getElementById('f-ig').value.trim();
  D.contactBe=document.getElementById('f-be').value.trim();
  D.contactLi=document.getElementById('f-li').value.trim();
  try{await sSet('vb3',JSON.stringify(D));}catch(e){}
  applyData(D);
  const b=document.getElementById('apSave');
  b.textContent='Salvato!';b.classList.add('saved');
  toast('Tutte le modifiche salvate!','ok');
  setTimeout(()=>{b.textContent='Salva tutte le modifiche';b.classList.remove('saved');},2400);
}

/* --- INIT --- */
async function init(){
  document.body.classList.remove('collage-bold','collage-minimal');
  document.body.classList.add(COLLAGE_STYLE==='minimal'?'collage-minimal':'collage-bold');
  try{
    const sv=await sGet('vb3');
    if(sv){const p=JSON.parse(sv);D=Object.assign({},DEF,p);if(!p.projects||!p.projects.length)D.projects=DEF.projects;}
  }catch(e){}
  D.projects=normalizeProjects(D.projects);
  applyData(D);
  initPublicUI();
  showPage('home');
  refreshMotionFx();
  initPolicyBanners();
}
init();
</script>
</body>
</html>

